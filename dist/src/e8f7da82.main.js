/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: mark@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: david@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 *
 * Owner: felix@famo.us
 * @license MPL 2.0
 * @copyright Famous Industries, Inc. 2015
 */

!function(){var t,i,e;!function(s){function n(t,i){return O.call(t,i)}function o(t,i){var e,s,n,o,r,a,h,u,c,p,l,f=i&&i.split("/"),d=m.map,_=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(i){for(f=f.slice(0,f.length-1),t=t.split("/"),r=t.length-1,m.nodeIdCompat&&w.test(t[r])&&(t[r]=t[r].replace(w,"")),t=f.concat(t),c=0;c<t.length;c+=1)if(l=t[c],"."===l)t.splice(c,1),c-=1;else if(".."===l){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||_)&&d){for(e=t.split("/"),c=e.length;c>0;c-=1){if(s=e.slice(0,c).join("/"),f)for(p=f.length;p>0;p-=1)if(n=d[f.slice(0,p).join("/")],n&&(n=n[s])){o=n,a=c;break}if(o)break;!h&&_&&_[s]&&(h=_[s],u=c)}!o&&h&&(o=h,a=u),o&&(e.splice(0,a,o),t=e.join("/"))}return t}function r(t,i){return function(){return f.apply(s,S.call(arguments,0).concat([t,i]))}}function a(t){return function(i){return o(i,t)}}function h(t){return function(i){g[t]=i}}function u(t){if(n(y,t)){var i=y[t];delete y[t],v[t]=!0,l.apply(s,i)}if(!n(g,t)&&!n(v,t))throw new Error("No "+t);return g[t]}function c(t){var i,e=t?t.indexOf("!"):-1;return e>-1&&(i=t.substring(0,e),t=t.substring(e+1,t.length)),[i,t]}function p(t){return function(){return m&&m.config&&m.config[t]||{}}}var l,f,d,_,g={},y={},m={},v={},O=Object.prototype.hasOwnProperty,S=[].slice,w=/\.js$/;d=function(t,i){var e,s=c(t),n=s[0];return t=s[1],n&&(n=o(n,i),e=u(n)),n?t=e&&e.normalize?e.normalize(t,a(i)):o(t,i):(t=o(t,i),s=c(t),n=s[0],t=s[1],n&&(e=u(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:e}},_={require:function(t){return r(t)},exports:function(t){var i=g[t];return"undefined"!=typeof i?i:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:p(t)}}},l=function(t,i,e,o){var a,c,p,l,f,m,O=[],S=typeof e;if(o=o||t,"undefined"===S||"function"===S){for(i=!i.length&&e.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(l=d(i[f],o),c=l.f,"require"===c)O[f]=_.require(t);else if("exports"===c)O[f]=_.exports(t),m=!0;else if("module"===c)a=O[f]=_.module(t);else if(n(g,c)||n(y,c)||n(v,c))O[f]=u(c);else{if(!l.p)throw new Error(t+" missing "+c);l.p.load(l.n,r(o,!0),h(c),{}),O[f]=g[c]}p=e?e.apply(g[t],O):void 0,t&&(a&&a.exports!==s&&a.exports!==g[t]?g[t]=a.exports:p===s&&m||(g[t]=p))}else t&&(g[t]=e)},t=i=f=function(t,i,e,n,o){if("string"==typeof t)return _[t]?_[t](i):u(d(t,i).f);if(!t.splice){if(m=t,m.deps&&f(m.deps,m.callback),!i)return;i.splice?(t=i,i=e,e=null):t=s}return i=i||function(){},"function"==typeof e&&(e=n,n=o),n?l(s,t,i,e):setTimeout(function(){l(s,t,i,e)},4),f},f.config=function(t){return f(t)},t._defined=g,e=function(t,i,e){i.splice||(e=i,i=[]),n(g,t)||n(y,t)||(y[t]=[t,i,e])},e.amd={jQuery:!0}}(),e("almond",function(){}),e("famous/core/Entity",["require","exports","module"],function(t,i,e){function s(t){return a[t]}function n(t,i){a[t]=i}function o(t){var i=a.length;return n(i,t),i}function r(t){n(t,null)}var a=[];e.exports={register:o,unregister:r,get:s,set:n}}),e("famous/core/Transform",["require","exports","module"],function(t,i,e){function s(t){return 2===t.length?t[0]*t[0]+t[1]*t[1]:t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function n(t){return Math.sqrt(s(t))}function o(t){return 0>t?-1:1}var r={};r.precision=1e-6,r.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.multiply4x4=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2]+t[12]*i[3],t[1]*i[0]+t[5]*i[1]+t[9]*i[2]+t[13]*i[3],t[2]*i[0]+t[6]*i[1]+t[10]*i[2]+t[14]*i[3],t[3]*i[0]+t[7]*i[1]+t[11]*i[2]+t[15]*i[3],t[0]*i[4]+t[4]*i[5]+t[8]*i[6]+t[12]*i[7],t[1]*i[4]+t[5]*i[5]+t[9]*i[6]+t[13]*i[7],t[2]*i[4]+t[6]*i[5]+t[10]*i[6]+t[14]*i[7],t[3]*i[4]+t[7]*i[5]+t[11]*i[6]+t[15]*i[7],t[0]*i[8]+t[4]*i[9]+t[8]*i[10]+t[12]*i[11],t[1]*i[8]+t[5]*i[9]+t[9]*i[10]+t[13]*i[11],t[2]*i[8]+t[6]*i[9]+t[10]*i[10]+t[14]*i[11],t[3]*i[8]+t[7]*i[9]+t[11]*i[10]+t[15]*i[11],t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12]*i[15],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13]*i[15],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14]*i[15],t[3]*i[12]+t[7]*i[13]+t[11]*i[14]+t[15]*i[15]]},r.multiply=function(t,i){return[t[0]*i[0]+t[4]*i[1]+t[8]*i[2],t[1]*i[0]+t[5]*i[1]+t[9]*i[2],t[2]*i[0]+t[6]*i[1]+t[10]*i[2],0,t[0]*i[4]+t[4]*i[5]+t[8]*i[6],t[1]*i[4]+t[5]*i[5]+t[9]*i[6],t[2]*i[4]+t[6]*i[5]+t[10]*i[6],0,t[0]*i[8]+t[4]*i[9]+t[8]*i[10],t[1]*i[8]+t[5]*i[9]+t[9]*i[10],t[2]*i[8]+t[6]*i[9]+t[10]*i[10],0,t[0]*i[12]+t[4]*i[13]+t[8]*i[14]+t[12],t[1]*i[12]+t[5]*i[13]+t[9]*i[14]+t[13],t[2]*i[12]+t[6]*i[13]+t[10]*i[14]+t[14],1]},r.thenMove=function(t,i){return i[2]||(i[2]=0),[t[0],t[1],t[2],0,t[4],t[5],t[6],0,t[8],t[9],t[10],0,t[12]+i[0],t[13]+i[1],t[14]+i[2],1]},r.moveThen=function(t,i){t[2]||(t[2]=0);var e=t[0]*i[0]+t[1]*i[4]+t[2]*i[8],s=t[0]*i[1]+t[1]*i[5]+t[2]*i[9],n=t[0]*i[2]+t[1]*i[6]+t[2]*i[10];return r.thenMove(i,[e,s,n])},r.translate=function(t,i,e){return void 0===e&&(e=0),[1,0,0,0,0,1,0,0,0,0,1,0,t,i,e,1]},r.thenScale=function(t,i){return[i[0]*t[0],i[1]*t[1],i[2]*t[2],0,i[0]*t[4],i[1]*t[5],i[2]*t[6],0,i[0]*t[8],i[1]*t[9],i[2]*t[10],0,i[0]*t[12],i[1]*t[13],i[2]*t[14],1]},r.scale=function(t,i,e){return void 0===e&&(e=1),void 0===i&&(i=t),[t,0,0,0,0,i,0,0,0,0,e,0,0,0,0,1]},r.rotateX=function(t){var i=Math.cos(t),e=Math.sin(t);return[1,0,0,0,0,i,e,0,0,-e,i,0,0,0,0,1]},r.rotateY=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,0,-e,0,0,1,0,0,e,0,i,0,0,0,0,1]},r.rotateZ=function(t){var i=Math.cos(t),e=Math.sin(t);return[i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1]},r.rotate=function(t,i,e){var s=Math.cos(t),n=Math.sin(t),o=Math.cos(i),r=Math.sin(i),a=Math.cos(e),h=Math.sin(e),u=[o*a,s*h+n*r*a,n*h-s*r*a,0,-o*h,s*a-n*r*h,n*a+s*r*h,0,r,-n*o,s*o,0,0,0,0,1];return u},r.rotateAxis=function(t,i){var e=Math.sin(i),s=Math.cos(i),n=1-s,o=t[0]*t[0]*n,r=t[0]*t[1]*n,a=t[0]*t[2]*n,h=t[1]*t[1]*n,u=t[1]*t[2]*n,c=t[2]*t[2]*n,p=t[0]*e,l=t[1]*e,f=t[2]*e,d=[o+s,r+f,a-l,0,r-f,h+s,u+p,0,a+l,u-p,c+s,0,0,0,0,1];return d},r.aboutOrigin=function(t,i){var e=t[0]-(t[0]*i[0]+t[1]*i[4]+t[2]*i[8]),s=t[1]-(t[0]*i[1]+t[1]*i[5]+t[2]*i[9]),n=t[2]-(t[0]*i[2]+t[1]*i[6]+t[2]*i[10]);return r.thenMove(i,[e,s,n])},r.skew=function(t,i,e){return[1,Math.tan(i),0,0,Math.tan(e),1,0,0,0,Math.tan(t),1,0,0,0,0,1]},r.skewX=function(t){return[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1]},r.skewY=function(t){return[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},r.perspective=function(t){return[1,0,0,0,0,1,0,0,0,0,1,-1/t,0,0,0,1]},r.getTranslate=function(t){return[t[12],t[13],t[14]]},r.inverse=function(t){var i=t[5]*t[10]-t[6]*t[9],e=t[4]*t[10]-t[6]*t[8],s=t[4]*t[9]-t[5]*t[8],n=t[1]*t[10]-t[2]*t[9],o=t[0]*t[10]-t[2]*t[8],r=t[0]*t[9]-t[1]*t[8],a=t[1]*t[6]-t[2]*t[5],h=t[0]*t[6]-t[2]*t[4],u=t[0]*t[5]-t[1]*t[4],c=t[0]*i-t[1]*e+t[2]*s,p=1/c,l=[p*i,-p*n,p*a,0,-p*e,p*o,-p*h,0,p*s,-p*r,p*u,0,0,0,0,1];return l[12]=-t[12]*l[0]-t[13]*l[4]-t[14]*l[8],l[13]=-t[12]*l[1]-t[13]*l[5]-t[14]*l[9],l[14]=-t[12]*l[2]-t[13]*l[6]-t[14]*l[10],l},r.transpose=function(t){return[t[0],t[4],t[8],t[12],t[1],t[5],t[9],t[13],t[2],t[6],t[10],t[14],t[3],t[7],t[11],t[15]]},r.interpret=function(t){var i=[t[0],t[1],t[2]],e=o(i[0]),a=n(i),h=[i[0]+e*a,i[1],i[2]],u=2/s(h);if(u>=1/0)return{translate:r.getTranslate(t),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];c[0]=1-u*h[0]*h[0],c[5]=1-u*h[1]*h[1],c[10]=1-u*h[2]*h[2],c[1]=-u*h[0]*h[1],c[2]=-u*h[0]*h[2],c[6]=-u*h[1]*h[2],c[4]=c[1],c[8]=c[2],c[9]=c[6];var p=r.multiply(c,t),l=[p[5],p[6]],f=o(l[0]),d=n(l),_=[l[0]+f*d,l[1]],g=2/s(_),y=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];y[5]=1-g*_[0]*_[0],y[10]=1-g*_[1]*_[1],y[6]=-g*_[0]*_[1],y[9]=y[6];var m=r.multiply(y,c),v=r.multiply(m,t),O=r.scale(v[0]<0?-1:1,v[5]<0?-1:1,v[10]<0?-1:1);v=r.multiply(v,O),m=r.multiply(O,m);var S={};return S.translate=r.getTranslate(t),S.rotate=[Math.atan2(-m[6],m[10]),Math.asin(m[2]),Math.atan2(-m[1],m[0])],S.rotate[0]||(S.rotate[0]=0,S.rotate[2]=Math.atan2(m[4],m[5])),S.scale=[v[0],v[5],v[10]],S.skew=[Math.atan2(v[9],S.scale[2]),Math.atan2(v[8],S.scale[2]),Math.atan2(v[4],S.scale[0])],Math.abs(S.rotate[0])+Math.abs(S.rotate[2])>1.5*Math.PI&&(S.rotate[1]=Math.PI-S.rotate[1],S.rotate[1]>Math.PI&&(S.rotate[1]-=2*Math.PI),S.rotate[1]<-Math.PI&&(S.rotate[1]+=2*Math.PI),S.rotate[0]<0?S.rotate[0]+=Math.PI:S.rotate[0]-=Math.PI,S.rotate[2]<0?S.rotate[2]+=Math.PI:S.rotate[2]-=Math.PI),S},r.average=function(t,i,e){e=void 0===e?.5:e;for(var s=r.interpret(t),n=r.interpret(i),o={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]},a=0;3>a;a++)o.translate[a]=(1-e)*s.translate[a]+e*n.translate[a],o.rotate[a]=(1-e)*s.rotate[a]+e*n.rotate[a],o.scale[a]=(1-e)*s.scale[a]+e*n.scale[a],o.skew[a]=(1-e)*s.skew[a]+e*n.skew[a];return r.build(o)},r.build=function(t){var i=r.scale(t.scale[0],t.scale[1],t.scale[2]),e=r.skew(t.skew[0],t.skew[1],t.skew[2]),s=r.rotate(t.rotate[0],t.rotate[1],t.rotate[2]);return r.thenMove(r.multiply(r.multiply(s,e),i),t.translate)},r.equals=function(t,i){return!r.notEquals(t,i)},r.notEquals=function(t,i){return t===i?!1:!(t&&i)||t[12]!==i[12]||t[13]!==i[13]||t[14]!==i[14]||t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]},r.normalizeRotation=function(t){var i=t.slice(0);for((i[0]===.5*Math.PI||i[0]===.5*-Math.PI)&&(i[0]=-i[0],i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]>.5*Math.PI&&(i[0]=i[0]-Math.PI,i[1]=Math.PI-i[1],i[2]-=Math.PI),i[0]<.5*-Math.PI&&(i[0]=i[0]+Math.PI,i[1]=-Math.PI-i[1],i[2]-=Math.PI);i[1]<-Math.PI;)i[1]+=2*Math.PI;for(;i[1]>=Math.PI;)i[1]-=2*Math.PI;for(;i[2]<-Math.PI;)i[2]+=2*Math.PI;for(;i[2]>=Math.PI;)i[2]-=2*Math.PI;return i},r.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1],r.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1],e.exports=r}),e("famous/core/SpecParser",["require","exports","module","./Transform"],function(t,i,e){function s(){this.result={}}function n(t,i){return[t[0]*i[0]+t[1]*i[4]+t[2]*i[8],t[0]*i[1]+t[1]*i[5]+t[2]*i[9],t[0]*i[2]+t[1]*i[6]+t[2]*i[10]]}var o=t("./Transform");s._instance=new s,s.parse=function(t,i){return s._instance.parse(t,i)},s.prototype.parse=function(t,i){return this.reset(),this._parseSpec(t,i,o.identity),this.result},s.prototype.reset=function(){this.result={}};var r=[0,0];s.prototype._parseSpec=function(t,i,e){var s,a,h,u,c,p,l;if("number"==typeof t){if(s=t,h=i.transform,p=i.align||r,i.size&&p&&(p[0]||p[1])){var f=[p[0]*i.size[0],p[1]*i.size[1],0];h=o.thenMove(h,n(f,e))}this.result[s]={transform:h,opacity:i.opacity,origin:i.origin||r,align:i.align||r,size:i.size}}else{if(!t)return;if(t instanceof Array)for(var d=0;d<t.length;d++)this._parseSpec(t[d],i,e);else{a=t.target,h=i.transform,u=i.opacity,c=i.origin,p=i.align,l=i.size;var _=e;if(void 0!==t.opacity&&(u=i.opacity*t.opacity),t.transform&&(h=o.multiply(i.transform,t.transform)),t.origin&&(c=t.origin,_=i.transform),t.align&&(p=t.align),t.size||t.proportions){var g=l;l=[l[0],l[1]],t.size&&(void 0!==t.size[0]&&(l[0]=t.size[0]),void 0!==t.size[1]&&(l[1]=t.size[1])),t.proportions&&(void 0!==t.proportions[0]&&(l[0]=l[0]*t.proportions[0]),void 0!==t.proportions[1]&&(l[1]=l[1]*t.proportions[1])),g&&(p&&(p[0]||p[1])&&(h=o.thenMove(h,n([p[0]*g[0],p[1]*g[1],0],e))),c&&(c[0]||c[1])&&(h=o.moveThen([-c[0]*l[0],-c[1]*l[1],0],h))),_=i.transform,c=null,p=null}this._parseSpec(a,{transform:h,opacity:u,origin:c,align:p,size:l},_)}}},e.exports=s}),e("famous/core/RenderNode",["require","exports","module","./Entity","./SpecParser"],function(t,i,e){function s(t){this._object=null,this._child=null,this._hasMultipleChildren=!1,this._isRenderable=!1,this._isModifier=!1,this._resultCache={},this._prevResults={},this._childResult=null,t&&this.set(t)}function n(t,i,e){for(var s=r.parse(t,i),a=Object.keys(s),h=0;h<a.length;h++){var u=a[h],c=o.get(u),p=s[u];p.allocator=i.allocator;var l=c.commit(p);l?n(l,i,e):e[u]=p}}var o=t("./Entity"),r=t("./SpecParser");s.prototype.add=function(t){var i=t instanceof s?t:new s(t);return this._child instanceof Array?this._child.push(i):this._child?(this._child=[this._child,i],this._hasMultipleChildren=!0,this._childResult=[]):this._child=i,i},s.prototype.get=function(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)},s.prototype.set=function(t){return this._childResult=null,this._hasMultipleChildren=!1,this._isRenderable=t.render?!0:!1,this._isModifier=t.modify?!0:!1,this._object=t,this._child=null,t instanceof s?t:this},s.prototype.getSize=function(){var t=null,i=this.get();return i&&i.getSize&&(t=i.getSize()),!t&&this._child&&this._child.getSize&&(t=this._child.getSize()),t},s.prototype.commit=function(t){for(var i=Object.keys(this._prevResults),e=0;e<i.length;e++){var s=i[e];if(void 0===this._resultCache[s]){var r=o.get(s);r.cleanup&&r.cleanup(t.allocator)}}this._prevResults=this._resultCache,this._resultCache={},n(this.render(),t,this._resultCache)},s.prototype.render=function(){if(this._isRenderable)return this._object.render();var t=null;if(this._hasMultipleChildren){t=this._childResult;for(var i=this._child,e=0;e<i.length;e++)t[e]=i[e].render()}else this._child&&(t=this._child.render());return this._isModifier?this._object.modify(t):t},e.exports=s}),e("famous/core/EventEmitter",["require","exports","module"],function(t,i,e){function s(){this.listeners={},this._owner=this}s.prototype.emit=function(t,i){var e=this.listeners[t];if(e)for(var s=0;s<e.length;s++)e[s].call(this._owner,i);return this},s.prototype.on=function(t,i){t in this.listeners||(this.listeners[t]=[]);var e=this.listeners[t].indexOf(i);return 0>e&&this.listeners[t].push(i),this},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(t,i){var e=this.listeners[t];if(void 0!==e){var s=e.indexOf(i);s>=0&&e.splice(s,1)}return this},s.prototype.bindThis=function(t){this._owner=t},e.exports=s}),e("famous/core/EventHandler",["require","exports","module","./EventEmitter"],function(t,i,e){function s(){n.apply(this,arguments),this.downstream=[],this.downstreamFn=[],this.upstream=[],this.upstreamListeners={}}var n=t("./EventEmitter");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.setInputHandler=function(t,i){t.trigger=i.trigger.bind(i),i.subscribe&&i.unsubscribe&&(t.subscribe=i.subscribe.bind(i),t.unsubscribe=i.unsubscribe.bind(i))},s.setOutputHandler=function(t,i){i instanceof s&&i.bindThis(t),t.pipe=i.pipe.bind(i),t.unpipe=i.unpipe.bind(i),t.on=i.on.bind(i),t.addListener=t.on,t.removeListener=i.removeListener.bind(i)},s.prototype.emit=function(t,i){n.prototype.emit.apply(this,arguments);var e=0;for(e=0;e<this.downstream.length;e++)this.downstream[e].trigger&&this.downstream[e].trigger(t,i);for(e=0;e<this.downstreamFn.length;e++)this.downstreamFn[e](t,i);return this},s.prototype.trigger=s.prototype.emit,s.prototype.pipe=function(t){if(t.subscribe instanceof Function)return t.subscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return 0>e&&i.push(t),t instanceof Function?t("pipe",null):t.trigger&&t.trigger("pipe",null),t},s.prototype.unpipe=function(t){if(t.unsubscribe instanceof Function)return t.unsubscribe(this);var i=t instanceof Function?this.downstreamFn:this.downstream,e=i.indexOf(t);return e>=0?(i.splice(e,1),t instanceof Function?t("unpipe",null):t.trigger&&t.trigger("unpipe",null),t):!1},s.prototype.on=function(t){if(n.prototype.on.apply(this,arguments),!(t in this.upstreamListeners)){var i=this.trigger.bind(this,t);this.upstreamListeners[t]=i;for(var e=0;e<this.upstream.length;e++)this.upstream[e].on(t,i)}return this},s.prototype.addListener=s.prototype.on,s.prototype.subscribe=function(t){var i=this.upstream.indexOf(t);if(0>i){this.upstream.push(t);for(var e in this.upstreamListeners)t.on(e,this.upstreamListeners[e])}return this},s.prototype.unsubscribe=function(t){var i=this.upstream.indexOf(t);if(i>=0){this.upstream.splice(i,1);for(var e in this.upstreamListeners)t.removeListener(e,this.upstreamListeners[e])}return this},e.exports=s}),e("famous/core/ElementAllocator",["require","exports","module"],function(t,i,e){function s(t){t||(t=document.createDocumentFragment()),this.container=t,this.detachedNodes={},this.nodeCount=0}s.prototype.migrate=function(t){var i=this.container;if(t!==i){if(i instanceof DocumentFragment)t.appendChild(i);else for(;i.hasChildNodes();)t.appendChild(i.firstChild);this.container=t}},s.prototype.allocate=function(t){t=t.toLowerCase(),t in this.detachedNodes||(this.detachedNodes[t]=[]);var i,e=this.detachedNodes[t];return e.length>0?i=e.pop():(i=document.createElement(t),this.container.appendChild(i)),this.nodeCount++,i},s.prototype.deallocate=function(t){var i=t.nodeName.toLowerCase(),e=this.detachedNodes[i];e.push(t),this.nodeCount--},s.prototype.getNodeCount=function(){return this.nodeCount},e.exports=s}),e("famous/utilities/Utility",["require","exports","module"],function(t,i,e){var s={};s.Direction={X:0,Y:1,Z:2},s.after=function(t,i){var e=t;return function(){e--,0===e&&i.apply(this,arguments)}},s.loadURL=function(t,i){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&i&&i(this.responseText)},e.open("GET",t),e.send()},s.createDocumentFragmentFromHTML=function(t){var i=document.createElement("div");i.innerHTML=t;for(var e=document.createDocumentFragment();i.hasChildNodes();)e.appendChild(i.firstChild);return e},s.clone=function(t){var i;if("object"==typeof t){i=t instanceof Array?[]:{};for(var e in t)if("object"==typeof t[e]&&null!==t[e])if(t[e]instanceof Array){i[e]=new Array(t[e].length);for(var n=0;n<t[e].length;n++)i[e][n]=s.clone(t[e][n])}else i[e]=s.clone(t[e]);else i[e]=t[e]}else i=t;return i},e.exports=s}),e("famous/transitions/MultipleTransition",["require","exports","module","../utilities/Utility"],function(t,i,e){function s(t){this.method=t,this._instances=[],this.state=[]}var n=t("../utilities/Utility");s.SUPPORTS_MULTIPLE=!0,s.prototype.get=function(){for(var t=0;t<this._instances.length;t++)this.state[t]=this._instances[t].get();return this.state},s.prototype.set=function(t,i,e){for(var s=n.after(t.length,e),o=0;o<t.length;o++)this._instances[o]||(this._instances[o]=new this.method),this._instances[o].set(t[o],i,s)},s.prototype.reset=function(t){for(var i=0;i<t.length;i++)this._instances[i]||(this._instances[i]=new this.method),this._instances[i].reset(t[i])},e.exports=s}),e("famous/transitions/TweenTransition",["require","exports","module"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._startTime=0,this._startValue=0,this._updateTime=0,this._endValue=0,this._curve=void 0,this._duration=0,this._active=!1,this._callback=void 0,this.state=0,this.velocity=void 0}function n(t,i,e){return(1-e)*t+e*i}function o(t){return t instanceof Object?t instanceof Array?t.slice(0):Object.create(t):t}function r(t,i){var e={curve:i.curve};return i.duration&&(e.duration=i.duration),i.speed&&(e.speed=i.speed),t instanceof Object&&(void 0!==t.duration&&(e.duration=t.duration),t.curve&&(e.curve=t.curve),t.speed&&(e.speed=t.speed)),"string"==typeof e.curve&&(e.curve=s.getCurve(e.curve)),e}function a(t,i,e,s,n){var o,r=1e-7,a=(e(n)-e(n-r))/r;if(t instanceof Array){o=[];for(var h=0;h<t.length;h++)o[h]="number"==typeof t[h]?a*(t[h]-i[h])/s:0}else o=a*(t-i)/s;return o}function h(t,i,e){var s;if(t instanceof Array){s=[];for(var o=0;o<t.length;o++)s[o]="number"==typeof t[o]?n(t[o],i[o],e):t[o]}else s=n(t,i,e);return s}s.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){return.5>=t?2*t*t:-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}},s.SUPPORTS_MULTIPLE=!0,s.DEFAULT_OPTIONS={curve:s.Curves.linear,duration:500,speed:0};var u={};s.registerCurve=function(t,i){return u[t]?!1:(u[t]=i,!0)},s.unregisterCurve=function(t){return u[t]?(delete u[t],!0):!1},s.getCurve=function(t){var i=u[t];if(void 0!==i)return i;throw new Error("curve not registered")},s.getCurves=function(){return u},s.prototype.setOptions=function(t){void 0!==t.curve&&(this.options.curve=t.curve),void 0!==t.duration&&(this.options.duration=t.duration),void 0!==t.speed&&(this.options.speed=t.speed)},s.prototype.set=function(t,i,e){if(!i)return this.reset(t),void(e&&e());if(this._startValue=o(this.get()),i=r(i,this.options),i.speed){var s=this._startValue;if(s instanceof Object){var n=0;for(var a in s)n+=(t[a]-s[a])*(t[a]-s[a]);i.duration=Math.sqrt(n)/i.speed}else i.duration=Math.abs(t-s)/i.speed}this._startTime=Date.now(),this._endValue=o(t),this._startVelocity=o(i.velocity),this._duration=i.duration,this._curve=i.curve,this._active=!0,this._callback=e},s.prototype.reset=function(t,i){if(this._callback){var e=this._callback;this._callback=void 0,e()}this.state=o(t),this.velocity=o(i),this._startTime=0,this._duration=0,this._updateTime=0,this._startValue=this.state,this._startVelocity=this.velocity,this._endValue=this.state,this._active=!1},s.prototype.getVelocity=function(){return this.velocity},s.prototype.get=function(t){return this.update(t),this.state},s.prototype.update=function(t){if(this._active){if(t||(t=Date.now()),!(this._updateTime>=t)){this._updateTime=t;var i=t-this._startTime;if(i>=this._duration)this.state=this._endValue,this.velocity=a(this.state,this._startValue,this._curve,this._duration,1),this._active=!1;else if(0>i)this.state=this._startValue,this.velocity=this._startVelocity;else{var e=i/this._duration;this.state=h(this._startValue,this._endValue,this._curve(e)),this.velocity=a(this.state,this._startValue,this._curve,this._duration,e)}}}else if(this._callback){var s=this._callback;this._callback=void 0,s()}},s.prototype.isActive=function(){return this._active},s.prototype.halt=function(){this.reset(this.get())},s.registerCurve("linear",s.Curves.linear),s.registerCurve("easeIn",s.Curves.easeIn),s.registerCurve("easeOut",s.Curves.easeOut),s.registerCurve("easeInOut",s.Curves.easeInOut),s.registerCurve("easeOutBounce",s.Curves.easeOutBounce),s.registerCurve("spring",s.Curves.spring),s.customCurve=function(t,i){return t=t||0,i=i||0,function(e){return t*e+(-2*t-i+3)*e*e+(t+i-2)*e*e*e}},e.exports=s}),e("famous/transitions/Transitionable",["require","exports","module","./MultipleTransition","./TweenTransition"],function(t,i,e){function s(t){this.currentAction=null,this.actionQueue=[],this.callbackQueue=[],this.state=0,this.velocity=void 0,this._callback=void 0,this._engineInstance=null,this._currentMethod=null,this.set(t)}function n(){if(this._callback){var t=this._callback;this._callback=void 0,t()}if(this.actionQueue.length<=0)return void this.set(this.get());this.currentAction=this.actionQueue.shift(),this._callback=this.callbackQueue.shift();var i=null,e=this.currentAction[0],s=this.currentAction[1];s instanceof Object&&s.method?(i=s.method,"string"==typeof i&&(i=a[i])):i=r,this._currentMethod!==i&&(this._engineInstance=!(e instanceof Object)||i.SUPPORTS_MULTIPLE===!0||e.length<=i.SUPPORTS_MULTIPLE?new i:new o(i),this._currentMethod=i),this._engineInstance.reset(this.state,this.velocity),void 0!==this.velocity&&(s.velocity=this.velocity),this._engineInstance.set(e,s,n.bind(this))}var o=t("./MultipleTransition"),r=t("./TweenTransition"),a={};s.register=function(t){var i=!0;for(var e in t)s.registerMethod(e,t[e])||(i=!1);return i},s.registerMethod=function(t,i){return t in a?!1:(a[t]=i,!0)},s.unregisterMethod=function(t){return t in a?(delete a[t],!0):!1},s.prototype.set=function(t,i,e){if(!i)return this.reset(t),e&&e(),this;var s=[t,i];return this.actionQueue.push(s),this.callbackQueue.push(e),this.currentAction||n.call(this),this},s.prototype.reset=function(t,i){this._currentMethod=null,this._engineInstance=null,this._callback=void 0,this.state=t,this.velocity=i,this.currentAction=null,this.actionQueue=[],this.callbackQueue=[]},s.prototype.delay=function(t,i){var e;return e=this.actionQueue.length?this.actionQueue[this.actionQueue.length-1][0]:this.currentAction?this.currentAction[0]:this.get(),this.set(e,{duration:t,curve:function(){return 0}},i)},s.prototype.get=function(t){return this._engineInstance&&(this._engineInstance.getVelocity&&(this.velocity=this._engineInstance.getVelocity()),this.state=this._engineInstance.get(t)),this.state},s.prototype.isActive=function(){return!!this.currentAction},s.prototype.halt=function(){return this.set(this.get())},e.exports=s}),e("famous/core/Context",["require","exports","module","./RenderNode","./EventHandler","./ElementAllocator","./Transform","../transitions/Transitionable"],function(t,i,e){function s(){var t=this.container;return[t.clientWidth,t.clientHeight]}function n(t){this.container=t,this._allocator=new a(t),this._node=new o,this._eventOutput=new r,this._size=s.call(this),this._perspectiveState=new u(0),this._perspective=void 0,this._nodeContext={allocator:this._allocator,transform:h.identity,opacity:1,origin:c,align:c,size:this._size},this._eventOutput.on("resize",function(){this.setSize(s.call(this))}.bind(this))}var o=t("./RenderNode"),r=t("./EventHandler"),a=t("./ElementAllocator"),h=t("./Transform"),u=t("../transitions/Transitionable"),c=[0,0],p=!("perspective"in document.documentElement.style),l=p?function(t,i){t.style.webkitPerspective=i?i.toFixed()+"px":""}:function(t,i){t.style.perspective=i?i.toFixed()+"px":""};n.prototype.getAllocator=function(){return this._allocator},n.prototype.add=function(t){return this._node.add(t)},n.prototype.migrate=function(t){t!==this.container&&(this.container=t,this._allocator.migrate(t))},n.prototype.getSize=function(){return this._size},n.prototype.setSize=function(t){t||(t=s.call(this)),this._size[0]=t[0],this._size[1]=t[1]},n.prototype.update=function(t){t&&(t.transform&&(this._nodeContext.transform=t.transform),t.opacity&&(this._nodeContext.opacity=t.opacity),t.origin&&(this._nodeContext.origin=t.origin),t.align&&(this._nodeContext.align=t.align),t.size&&(this._nodeContext.size=t.size));var i=this._perspectiveState.get();i!==this._perspective&&(l(this.container,i),this._perspective=i),this._node.commit(this._nodeContext)},n.prototype.getPerspective=function(){return this._perspectiveState.get()},n.prototype.setPerspective=function(t,i,e){return this._perspectiveState.set(t,i,e)},n.prototype.emit=function(t,i){return this._eventOutput.emit(t,i)},n.prototype.on=function(t,i){return this._eventOutput.on(t,i)},n.prototype.removeListener=function(t,i){return this._eventOutput.removeListener(t,i)},n.prototype.pipe=function(t){return this._eventOutput.pipe(t)},n.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},e.exports=n}),e("famous/core/OptionsManager",["require","exports","module","./EventHandler"],function(t,i,e){function s(t){this._value=t,this.eventOutput=null}function n(){this.eventOutput=new o,this.eventOutput.bindThis(this),o.setOutputHandler(this,this.eventOutput)}var o=t("./EventHandler");s.patch=function(t){for(var i=new s(t),e=1;e<arguments.length;e++)i.patch(arguments[e]);return t},s.prototype.patch=function(){for(var t=this._value,i=0;i<arguments.length;i++){var e=arguments[i];for(var s in e)s in t&&e[s]&&e[s].constructor===Object&&t[s]&&t[s].constructor===Object?(t.hasOwnProperty(s)||(t[s]=Object.create(t[s])),this.key(s).patch(e[s]),this.eventOutput&&this.eventOutput.emit("change",{id:s,value:this.key(s).value()})):this.set(s,e[s])}return this},s.prototype.setOptions=s.prototype.patch,s.prototype.key=function(t){var i=new s(this._value[t]);return(!(i._value instanceof Object)||i._value instanceof Array)&&(i._value={}),i},s.prototype.get=function(t){return t?this._value[t]:this._value},s.prototype.getOptions=s.prototype.get,s.prototype.set=function(t,i){var e=this.get(t);return this._value[t]=i,this.eventOutput&&i!==e&&this.eventOutput.emit("change",{id:t,value:i}),this},s.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},s.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},s.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),e("famous/core/Engine",["require","exports","module","./Context","./EventHandler","./OptionsManager"],function(t,i,e){function s(){x.runLoop?(d.step(),window.requestAnimationFrame(s)):S=!1}function n(){for(var t=0;t<_.length;t++)_[t].emit("resize");T.emit("resize")}function o(){window.addEventListener("touchmove",function(t){t.preventDefault()},!0),r()}function r(){return document.body?(document.body.classList.add("famous-root"),void document.documentElement.classList.add("famous-root")):void d.nextTick(r)}function a(t,i){return document.body?void document.body.addEventListener(t,i):void d.nextTick(addEventListener.bind(this,t,i))}function h(t,i){return document.body?(document.body.appendChild(i),void t.emit("resize")):void d.nextTick(h.bind(this,t,i))}var u,c,p=t("./Context"),l=t("./EventHandler"),f=t("./OptionsManager"),d={},_=[],g=[],y=0,m=0,v=[],O=Date.now(),S=!0,w={},T=new l,x={containerType:"div",containerClass:"famous-container",fpsCap:void 0,runLoop:!0,appMode:!0},b=new f(x),z=10;d.step=function(){y++,m=y;var t=Date.now();if(!(c&&c>t-O)){var i=0;u=t-O,O=t,T.emit("prerender");for(var e=g.length;e--;)g.shift()(y);for(;v.length&&Date.now()-t<z;)v.shift().call(this);for(i=0;i<_.length;i++)_[i].update();T.emit("postrender")}},window.requestAnimationFrame(s),window.addEventListener("resize",n,!1),n();var I=!1;d.pipe=function(t){return t.subscribe instanceof Function?t.subscribe(d):T.pipe(t)},d.unpipe=function(t){return t.unsubscribe instanceof Function?t.unsubscribe(d):T.unpipe(t)},d.on=function(t,i){return t in w||(w[t]=T.emit.bind(T,t),a(t,w[t])),T.on(t,i)},d.emit=function(t,i){return T.emit(t,i)},d.removeListener=function(t,i){return T.removeListener(t,i)},d.getFPS=function(){return 1e3/u},d.setFPSCap=function(t){c=Math.floor(1e3/t)},d.getOptions=function(t){return b.getOptions(t)},d.setOptions=function(){return b.setOptions.apply(b,arguments)},d.createContext=function(t){!I&&x.appMode&&d.nextTick(o);var i=!1;t||(t=document.createElement(x.containerType),t.classList.add(x.containerClass),i=!0);var e=new p(t);return d.registerContext(e),i&&h(e,t),e},d.registerContext=function(t){return _.push(t),t},d.getContexts=function(){return _},d.deregisterContext=function(t){var i=_.indexOf(t);i>=0&&_.splice(i,1)},d.nextTick=function(t){g.push(t)},d.defer=function(t){v.push(t)},b.on("change",function(t){"fpsCap"===t.id?d.setFPSCap(t.value):"runLoop"===t.id&&!S&&t.value&&(S=!0,window.requestAnimationFrame(s))}),e.exports=d}),e("famous/core/View",["require","exports","module","./EventHandler","./OptionsManager","./RenderNode","../utilities/Utility"],function(t,i,e){function s(t){this._node=new r,this._eventInput=new n,this._eventOutput=new n,n.setInputHandler(this,this._eventInput),n.setOutputHandler(this,this._eventOutput),this.options=a.clone(this.constructor.DEFAULT_OPTIONS||s.DEFAULT_OPTIONS),this._optionsManager=new o(this.options),t&&this.setOptions(t)}var n=t("./EventHandler"),o=t("./OptionsManager"),r=t("./RenderNode"),a=t("../utilities/Utility");s.DEFAULT_OPTIONS={},s.prototype.getOptions=function(t){return this._optionsManager.getOptions(t)},s.prototype.setOptions=function(t){this._optionsManager.patch(t)},s.prototype.add=function(){return this._node.add.apply(this._node,arguments)},s.prototype._add=s.prototype.add,s.prototype.render=function(){return this._node.render()},s.prototype.getSize=function(){return this._node&&this._node.getSize?this._node.getSize.apply(this._node,arguments)||this.options.size:this.options.size},e.exports=s}),e("famous/core/ElementOutput",["require","exports","module","./Entity","./EventHandler","./Transform"],function(t,i,e){function s(t){this._matrix=null,this._opacity=1,this._origin=null,this._size=null,this._eventOutput=new c,this._eventOutput.bindThis(this),this.eventForwarder=function(t){this._eventOutput.emit(t.type,t)}.bind(this),this.id=u.register(this),this._element=null,this._sizeDirty=!1,this._originDirty=!1,this._transformDirty=!1,this._invisible=!1,t&&this.attach(t)}function n(t){for(var i in this._eventOutput.listeners)t.addEventListener(i,this.eventForwarder)}function o(t){for(var i in this._eventOutput.listeners)t.removeEventListener(i,this.eventForwarder)
}function r(t){t[12]=Math.round(t[12]*f)/f,t[13]=Math.round(t[13]*f)/f;for(var i="matrix3d(",e=0;15>e;e++)i+=t[e]<1e-6&&t[e]>-1e-6?"0,":t[e]+",";return i+=t[15]+")"}function a(t){return 100*t[0]+"% "+100*t[1]+"%"}function h(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var u=t("./Entity"),c=t("./EventHandler"),p=t("./Transform"),l=!("transform"in document.documentElement.style),f=window.devicePixelRatio||1;s.prototype.on=function(t,i){this._element&&this._element.addEventListener(t,this.eventForwarder),this._eventOutput.on(t,i)},s.prototype.removeListener=function(t,i){this._eventOutput.removeListener(t,i)},s.prototype.emit=function(t,i){i&&!i.origin&&(i.origin=this);var e=this._eventOutput.emit(t,i);return e&&i&&i.stopPropagation&&i.stopPropagation(),e},s.prototype.pipe=function(t){return this._eventOutput.pipe(t)},s.prototype.unpipe=function(t){return this._eventOutput.unpipe(t)},s.prototype.render=function(){return this.id};var d;d=l?function(t,i){t.style.webkitTransform=r(i)}:function(t,i){t.style.transform=r(i)};var _=l?function(t,i){t.style.webkitTransformOrigin=a(i)}:function(t,i){t.style.transformOrigin=a(i)},g=l?function(t){t.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0}:function(t){t.style.transform="scale3d(0.0001,0.0001,0.0001)",t.style.opacity=0};s.prototype.commit=function(t){var i=this._element;if(i){{var e=t.transform,s=t.opacity,n=t.origin;t.size}if(!e&&this._matrix)return this._matrix=null,this._opacity=0,void g(i);if(h(this._origin,n)&&(this._originDirty=!0),p.notEquals(this._matrix,e)&&(this._transformDirty=!0),this._invisible&&(this._invisible=!1,this._element.style.display=""),this._opacity!==s&&(this._opacity=s,i.style.opacity=s>=1?"0.999999":s),this._transformDirty||this._originDirty||this._sizeDirty){this._sizeDirty&&(this._sizeDirty=!1),this._originDirty&&(n?(this._origin||(this._origin=[0,0]),this._origin[0]=n[0],this._origin[1]=n[1]):this._origin=null,_(i,this._origin),this._originDirty=!1),e||(e=p.identity),this._matrix=e;var o=this._size?p.thenMove(e,[-this._size[0]*n[0],-this._size[1]*n[1],0]):e;d(i,o),this._transformDirty=!1}}},s.prototype.cleanup=function(){this._element&&(this._invisible=!0,this._element.style.display="none")},s.prototype.attach=function(t){this._element=t,n.call(this,t)},s.prototype.detach=function(){var t=this._element;return t&&(o.call(this,t),this._invisible&&(this._invisible=!1,this._element.style.display="")),this._element=null,t},e.exports=s}),e("famous/core/Surface",["require","exports","module","./ElementOutput"],function(t,i,e){function s(t){c.call(this),this.options={},this.properties={},this.attributes={},this.content="",this.classList=[],this.size=null,this._classesDirty=!0,this._stylesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._trueSizeCheck=!0,this._dirtyClasses=[],t&&this.setOptions(t),this._currentTarget=null}function n(t){for(var i=0;i<this._dirtyClasses.length;i++)t.classList.remove(this._dirtyClasses[i]);this._dirtyClasses=[]}function o(t){for(var i in this.properties)t.style[i]=this.properties[i]}function r(t){for(var i in this.properties)t.style[i]=""}function a(t){for(var i in this.attributes)t.setAttribute(i,this.attributes[i])}function h(t){for(var i in this.attributes)t.removeAttribute(i)}function u(t,i){return t&&i?t[0]!==i[0]||t[1]!==i[1]:t!==i}var c=t("./ElementOutput");s.prototype=Object.create(c.prototype),s.prototype.constructor=s,s.prototype.elementType="div",s.prototype.elementClass="famous-surface",s.prototype.setAttributes=function(t){for(var i in t){if("style"===i)throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[i]=t[i]}this._attributesDirty=!0},s.prototype.getAttributes=function(){return this.attributes},s.prototype.setProperties=function(t){for(var i in t)this.properties[i]=t[i];return this._stylesDirty=!0,this},s.prototype.getProperties=function(){return this.properties},s.prototype.addClass=function(t){return this.classList.indexOf(t)<0&&(this.classList.push(t),this._classesDirty=!0),this},s.prototype.removeClass=function(t){var i=this.classList.indexOf(t);return i>=0&&(this._dirtyClasses.push(this.classList.splice(i,1)[0]),this._classesDirty=!0),this},s.prototype.toggleClass=function(t){var i=this.classList.indexOf(t);return i>=0?this.removeClass(t):this.addClass(t),this},s.prototype.setClasses=function(t){var i=0,e=[];for(i=0;i<this.classList.length;i++)t.indexOf(this.classList[i])<0&&e.push(this.classList[i]);for(i=0;i<e.length;i++)this.removeClass(e[i]);for(i=0;i<t.length;i++)this.addClass(t[i]);return this},s.prototype.getClassList=function(){return this.classList},s.prototype.setContent=function(t){return this.content!==t&&(this.content=t,this._contentDirty=!0),this},s.prototype.getContent=function(){return this.content},s.prototype.setOptions=function(t){return t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.attributes&&this.setAttributes(t.attributes),t.content&&this.setContent(t.content),this},s.prototype.setup=function(t){var i=t.allocate(this.elementType);if(this.elementClass)if(this.elementClass instanceof Array)for(var e=0;e<this.elementClass.length;e++)i.classList.add(this.elementClass[e]);else i.classList.add(this.elementClass);i.style.display="",this.attach(i),this._opacity=null,this._currentTarget=i,this._stylesDirty=!0,this._classesDirty=!0,this._attributesDirty=!0,this._sizeDirty=!0,this._contentDirty=!0,this._originDirty=!0,this._transformDirty=!0},s.prototype.commit=function(t){this._currentTarget||this.setup(t.allocator);var i=this._currentTarget,e=t.size;if(this._classesDirty){n.call(this,i);for(var s=this.getClassList(),r=0;r<s.length;r++)i.classList.add(s[r]);this._classesDirty=!1,this._trueSizeCheck=!0}if(this._stylesDirty&&(o.call(this,i),this._stylesDirty=!1,this._trueSizeCheck=!0),this._attributesDirty&&(a.call(this,i),this._attributesDirty=!1,this._trueSizeCheck=!0),this.size){var h=t.size;if(e=[this.size[0],this.size[1]],void 0===e[0]&&(e[0]=h[0]),void 0===e[1]&&(e[1]=h[1]),e[0]===!0||e[1]===!0){if(e[0]===!0)if(this._trueSizeCheck||0===this._size[0]){var p=i.offsetWidth;this._size&&this._size[0]!==p&&(this._size[0]=p,this._sizeDirty=!0),e[0]=p}else this._size&&(e[0]=this._size[0]);if(e[1]===!0)if(this._trueSizeCheck||0===this._size[1]){var l=i.offsetHeight;this._size&&this._size[1]!==l&&(this._size[1]=l,this._sizeDirty=!0),e[1]=l}else this._size&&(e[1]=this._size[1]);this._trueSizeCheck=!1}}u(this._size,e)&&(this._size||(this._size=[0,0]),this._size[0]=e[0],this._size[1]=e[1],this._sizeDirty=!0),this._sizeDirty&&(this._size&&(i.style.width=this.size&&this.size[0]===!0?"":this._size[0]+"px",i.style.height=this.size&&this.size[1]===!0?"":this._size[1]+"px"),this._eventOutput.emit("resize")),this._contentDirty&&(this.deploy(i),this._eventOutput.emit("deploy"),this._contentDirty=!1,this._trueSizeCheck=!0),c.prototype.commit.call(this,t)},s.prototype.cleanup=function(t){var i=0,e=this._currentTarget;this._eventOutput.emit("recall"),this.recall(e),e.style.display="none",e.style.opacity="",e.style.width="",e.style.height="",r.call(this,e),h.call(this,e);var s=this.getClassList();for(n.call(this,e),i=0;i<s.length;i++)e.classList.remove(s[i]);if(this.elementClass)if(this.elementClass instanceof Array)for(i=0;i<this.elementClass.length;i++)e.classList.remove(this.elementClass[i]);else e.classList.remove(this.elementClass);this.detach(e),this._currentTarget=null,t.deallocate(e)},s.prototype.deploy=function(t){var i=this.getContent();if(i instanceof Node){for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}else t.innerHTML=i},s.prototype.recall=function(t){for(var i=document.createDocumentFragment();t.hasChildNodes();)i.appendChild(t.firstChild);this.setContent(i)},s.prototype.getSize=function(){return this._size?this._size:this.size},s.prototype.setSize=function(t){return this.size=t?[t[0],t[1]]:null,this._sizeDirty=!0,this},e.exports=s}),e("famous/transitions/TransitionableTransform",["require","exports","module","./Transitionable","../core/Transform","../utilities/Utility"],function(t,i,e){function s(t){this._final=a.identity.slice(),this._finalTranslate=[0,0,0],this._finalRotate=[0,0,0],this._finalSkew=[0,0,0],this._finalScale=[1,1,1],this.translate=new r(this._finalTranslate),this.rotate=new r(this._finalRotate),this.skew=new r(this._finalSkew),this.scale=new r(this._finalScale),t&&this.set(t)}function n(){return a.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}function o(){return a.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}var r=t("./Transitionable"),a=t("../core/Transform"),h=t("../utilities/Utility");s.prototype.setTranslate=function(t,i,e){return this._finalTranslate=t,this._final=o.call(this),this.translate.set(t,i,e),this},s.prototype.setScale=function(t,i,e){return this._finalScale=t,this._final=o.call(this),this.scale.set(t,i,e),this},s.prototype.setRotate=function(t,i,e){return this._finalRotate=t,this._final=o.call(this),this.rotate.set(t,i,e),this},s.prototype.setSkew=function(t,i,e){return this._finalSkew=t,this._final=o.call(this),this.skew.set(t,i,e),this},s.prototype.set=function(t,i,e){var s=a.interpret(t);this._finalTranslate=s.translate,this._finalRotate=s.rotate,this._finalSkew=s.skew,this._finalScale=s.scale,this._final=t;var n=e?h.after(4,e):null;return this.translate.set(s.translate,i,n),this.rotate.set(s.rotate,i,n),this.skew.set(s.skew,i,n),this.scale.set(s.scale,i,n),this},s.prototype.setDefaultTransition=function(t){this.translate.setDefault(t),this.rotate.setDefault(t),this.skew.setDefault(t),this.scale.setDefault(t)},s.prototype.get=function(){return this.isActive()?n.call(this):this._final},s.prototype.getFinal=function(){return this._final},s.prototype.isActive=function(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()},s.prototype.halt=function(){return this.translate.halt(),this.rotate.halt(),this.skew.halt(),this.scale.halt(),this._final=this.get(),this._finalTranslate=this.translate.get(),this._finalRotate=this.rotate.get(),this._finalSkew=this.skew.get(),this._finalScale=this.scale.get(),this},e.exports=s}),e("famous/core/Modifier",["require","exports","module","./Transform","../transitions/Transitionable","../transitions/TransitionableTransform"],function(t,i,e){function s(t){this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null,this._legacyStates={},this._output={transform:o.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null},t&&(t.transform&&this.transformFrom(t.transform),void 0!==t.opacity&&this.opacityFrom(t.opacity),t.origin&&this.originFrom(t.origin),t.align&&this.alignFrom(t.align),t.size&&this.sizeFrom(t.size),t.proportions&&this.proportionsFrom(t.proportions))}function n(){this._transformGetter&&(this._output.transform=this._transformGetter()),this._opacityGetter&&(this._output.opacity=this._opacityGetter()),this._originGetter&&(this._output.origin=this._originGetter()),this._alignGetter&&(this._output.align=this._alignGetter()),this._sizeGetter&&(this._output.size=this._sizeGetter()),this._proportionGetter&&(this._output.proportions=this._proportionGetter())}var o=t("./Transform"),r=t("../transitions/Transitionable"),a=t("../transitions/TransitionableTransform");s.prototype.transformFrom=function(t){return t instanceof Function?this._transformGetter=t:t instanceof Object&&t.get?this._transformGetter=t.get.bind(t):(this._transformGetter=null,this._output.transform=t),this},s.prototype.opacityFrom=function(t){return t instanceof Function?this._opacityGetter=t:t instanceof Object&&t.get?this._opacityGetter=t.get.bind(t):(this._opacityGetter=null,this._output.opacity=t),this},s.prototype.originFrom=function(t){return t instanceof Function?this._originGetter=t:t instanceof Object&&t.get?this._originGetter=t.get.bind(t):(this._originGetter=null,this._output.origin=t),this},s.prototype.alignFrom=function(t){return t instanceof Function?this._alignGetter=t:t instanceof Object&&t.get?this._alignGetter=t.get.bind(t):(this._alignGetter=null,this._output.align=t),this},s.prototype.sizeFrom=function(t){return t instanceof Function?this._sizeGetter=t:t instanceof Object&&t.get?this._sizeGetter=t.get.bind(t):(this._sizeGetter=null,this._output.size=t),this},s.prototype.proportionsFrom=function(t){return t instanceof Function?this._proportionGetter=t:t instanceof Object&&t.get?this._proportionGetter=t.get.bind(t):(this._proportionGetter=null,this._output.proportions=t),this},s.prototype.setTransform=function(t,i,e){return i||this._legacyStates.transform?(this._legacyStates.transform||(this._legacyStates.transform=new a(this._output.transform)),this._transformGetter||this.transformFrom(this._legacyStates.transform),this._legacyStates.transform.set(t,i,e),this):this.transformFrom(t)},s.prototype.setOpacity=function(t,i,e){return i||this._legacyStates.opacity?(this._legacyStates.opacity||(this._legacyStates.opacity=new r(this._output.opacity)),this._opacityGetter||this.opacityFrom(this._legacyStates.opacity),this._legacyStates.opacity.set(t,i,e)):this.opacityFrom(t)},s.prototype.setOrigin=function(t,i,e){return i||this._legacyStates.origin?(this._legacyStates.origin||(this._legacyStates.origin=new r(this._output.origin||[0,0])),this._originGetter||this.originFrom(this._legacyStates.origin),this._legacyStates.origin.set(t,i,e),this):this.originFrom(t)},s.prototype.setAlign=function(t,i,e){return i||this._legacyStates.align?(this._legacyStates.align||(this._legacyStates.align=new r(this._output.align||[0,0])),this._alignGetter||this.alignFrom(this._legacyStates.align),this._legacyStates.align.set(t,i,e),this):this.alignFrom(t)},s.prototype.setSize=function(t,i,e){return t&&(i||this._legacyStates.size)?(this._legacyStates.size||(this._legacyStates.size=new r(this._output.size||[0,0])),this._sizeGetter||this.sizeFrom(this._legacyStates.size),this._legacyStates.size.set(t,i,e),this):this.sizeFrom(t)},s.prototype.setProportions=function(t,i,e){return t&&(i||this._legacyStates.proportions)?(this._legacyStates.proportions||(this._legacyStates.proportions=new r(this._output.proportions||[0,0])),this._proportionGetter||this.proportionsFrom(this._legacyStates.proportions),this._legacyStates.proportions.set(t,i,e),this):this.proportionsFrom(t)},s.prototype.halt=function(){this._legacyStates.transform&&this._legacyStates.transform.halt(),this._legacyStates.opacity&&this._legacyStates.opacity.halt(),this._legacyStates.origin&&this._legacyStates.origin.halt(),this._legacyStates.align&&this._legacyStates.align.halt(),this._legacyStates.size&&this._legacyStates.size.halt(),this._legacyStates.proportions&&this._legacyStates.proportions.halt(),this._transformGetter=null,this._opacityGetter=null,this._originGetter=null,this._alignGetter=null,this._sizeGetter=null,this._proportionGetter=null},s.prototype.getTransform=function(){return this._transformGetter()},s.prototype.getFinalTransform=function(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform},s.prototype.getOpacity=function(){return this._opacityGetter()},s.prototype.getOrigin=function(){return this._originGetter()},s.prototype.getAlign=function(){return this._alignGetter()},s.prototype.getSize=function(){return this._sizeGetter?this._sizeGetter():this._output.size},s.prototype.getProportions=function(){return this._proportionGetter?this._proportionGetter():this._output.proportions},s.prototype.modify=function(t){return n.call(this),this._output.target=t,this._output},e.exports=s}),e("famous/modifiers/StateModifier",["require","exports","module","../core/Modifier","../core/Transform","../transitions/Transitionable","../transitions/TransitionableTransform"],function(t,i,e){function s(t){this._transformState=new a(o.identity),this._opacityState=new r(1),this._originState=new r([0,0]),this._alignState=new r([0,0]),this._sizeState=new r([0,0]),this._proportionsState=new r([0,0]),this._modifier=new n({transform:this._transformState,opacity:this._opacityState,origin:null,align:null,size:null,proportions:null}),this._hasOrigin=!1,this._hasAlign=!1,this._hasSize=!1,this._hasProportions=!1,t&&(t.transform&&this.setTransform(t.transform),void 0!==t.opacity&&this.setOpacity(t.opacity),t.origin&&this.setOrigin(t.origin),t.align&&this.setAlign(t.align),t.size&&this.setSize(t.size),t.proportions&&this.setProportions(t.proportions))}var n=t("../core/Modifier"),o=t("../core/Transform"),r=t("../transitions/Transitionable"),a=t("../transitions/TransitionableTransform");s.prototype.setTransform=function(t,i,e){return this._transformState.set(t,i,e),this},s.prototype.setOpacity=function(t,i,e){return this._opacityState.set(t,i,e),this},s.prototype.setOrigin=function(t,i,e){return null===t?(this._hasOrigin&&(this._modifier.originFrom(null),this._hasOrigin=!1),this):(this._hasOrigin||(this._hasOrigin=!0,this._modifier.originFrom(this._originState)),this._originState.set(t,i,e),this)},s.prototype.setAlign=function(t,i,e){return null===t?(this._hasAlign&&(this._modifier.alignFrom(null),this._hasAlign=!1),this):(this._hasAlign||(this._hasAlign=!0,this._modifier.alignFrom(this._alignState)),this._alignState.set(t,i,e),this)},s.prototype.setSize=function(t,i,e){return null===t?(this._hasSize&&(this._modifier.sizeFrom(null),this._hasSize=!1),this):(this._hasSize||(this._hasSize=!0,this._modifier.sizeFrom(this._sizeState)),this._sizeState.set(t,i,e),this)},s.prototype.setProportions=function(t,i,e){return null===t?(this._hasProportions&&(this._modifier.proportionsFrom(null),this._hasProportions=!1),this):(this._hasProportions||(this._hasProportions=!0,this._modifier.proportionsFrom(this._proportionsState)),this._proportionsState.set(t,i,e),this)},s.prototype.halt=function(){this._transformState.halt(),this._opacityState.halt(),this._originState.halt(),this._alignState.halt(),this._sizeState.halt(),this._proportionsState.halt()},s.prototype.getTransform=function(){return this._transformState.get()},s.prototype.getFinalTransform=function(){return this._transformState.getFinal()},s.prototype.getOpacity=function(){return this._opacityState.get()},s.prototype.getOrigin=function(){return this._hasOrigin?this._originState.get():null},s.prototype.getAlign=function(){return this._hasAlign?this._alignState.get():null},s.prototype.getSize=function(){return this._hasSize?this._sizeState.get():null},s.prototype.getProportions=function(){return this._hasProportions?this._proportionsState.get():null},s.prototype.modify=function(t){return this._modifier.modify(t)},e.exports=s}),e("famous/surfaces/ContainerSurface",["require","exports","module","../core/Surface","../core/Context"],function(t,i,e){function s(t){n.call(this,t),this._container=document.createElement("div"),this._container.classList.add("famous-group"),this._container.classList.add("famous-container-group"),this._shouldRecalculateSize=!1,this.context=new o(this._container),this.setContent(this._container)}var n=t("../core/Surface"),o=t("../core/Context");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.elementType="div",s.prototype.elementClass="famous-surface",s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.render=function(){return this._sizeDirty&&(this._shouldRecalculateSize=!0),n.prototype.render.apply(this,arguments)},s.prototype.deploy=function(){return this._shouldRecalculateSize=!0,n.prototype.deploy.apply(this,arguments)},s.prototype.commit=function(){var t=this._size?[this._size[0],this._size[1]]:null,i=n.prototype.commit.apply(this,arguments);return(this._shouldRecalculateSize||t&&(this._size[0]!==t[0]||this._size[1]!==t[1]))&&(this.context.setSize(),this._shouldRecalculateSize=!1),this.context.update(),i},e.exports=s}),e("famous/surfaces/ImageSurface",["require","exports","module","../core/Surface"],function(t,i,e){function s(){this._imageUrl=void 0,n.apply(this,arguments)}var n=t("../core/Surface"),o=[],r=[],a=[],h=!0;s.enableCache=function(){h=!0},s.disableCache=function(){h=!1},s.clearCache=function(){o=[],r=[],a=[]},s.getCache=function(){return{urlCache:o,countCache:r,nodeCache:a}},s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.prototype.elementType="img",s.prototype.elementClass="famous-surface",s.prototype.setContent=function(t){var i=o.indexOf(this._imageUrl);-1!==i&&(1===r[i]?(o.splice(i,1),r.splice(i,1),a.splice(i,1)):r[i]--),i=o.indexOf(t),-1===i?(o.push(t),r.push(1)):r[i]++,this._imageUrl=t,this._contentDirty=!0},s.prototype.deploy=function(t){var i=o.indexOf(this._imageUrl);if(void 0===a[i]&&h){var e=new Image;e.src=this._imageUrl||"",a[i]=e}t.src=this._imageUrl||""},s.prototype.recall=function(t){t.src=""},e.exports=s}),e("famous/inputs/GenericSync",["require","exports","module","../core/EventHandler"],function(t,i,e){function s(t,i){this._eventInput=new o,this._eventOutput=new o,o.setInputHandler(this,this._eventInput),o.setOutputHandler(this,this._eventOutput),this._syncs={},t&&this.addSync(t),i&&this.setOptions(i)}function n(t,i){r[t]&&(this._syncs[t]=new r[t](i),this.pipeSync(t))}var o=t("../core/EventHandler");s.DIRECTION_X=0,s.DIRECTION_Y=1,s.DIRECTION_Z=2;var r={};s.register=function(t){for(var i in t)if(r[i]){if(r[i]!==t[i])throw new Error("Conflicting sync classes for key: "+i)}else r[i]=t[i]},s.prototype.setOptions=function(t){for(var i in this._syncs)this._syncs[i].setOptions(t)},s.prototype.pipeSync=function(t){var i=this._syncs[t];this._eventInput.pipe(i),i.pipe(this._eventOutput)},s.prototype.unpipeSync=function(t){var i=this._syncs[t];this._eventInput.unpipe(i),i.unpipe(this._eventOutput)},s.prototype.addSync=function(t){if(t instanceof Array)for(var i=0;i<t.length;i++)n.call(this,t[i]);else if(t instanceof Object)for(var e in t)n.call(this,e,t[e])},e.exports=s}),e("famous/inputs/MouseSync",["require","exports","module","../core/EventHandler","../core/OptionsManager"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new u(this.options),t&&this.setOptions(t),this._eventInput=new h,this._eventOutput=new h,h.setInputHandler(this,this._eventInput),h.setOutputHandler(this,this._eventOutput),this._eventInput.on("mousedown",n.bind(this)),this._eventInput.on("mousemove",o.bind(this)),this._eventInput.on("mouseup",r.bind(this)),this.options.propogate?this._eventInput.on("mouseleave",a.bind(this)):this._eventInput.on("mouseleave",r.bind(this)),this.options.clickThreshold&&window.addEventListener("click",function(t){Math.sqrt(Math.pow(this._displacement[0],2)+Math.pow(this._displacement[1],2))>this.options.clickThreshold&&t.stopPropagation()}.bind(this),!0),this._payload={delta:null,position:null,velocity:null,clientX:0,clientY:0,offsetX:0,offsetY:0},this._positionHistory=[],this._position=null,this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._moved=!1,this._displacement=[0,0],this._documentActive=!1}function n(t){var i,e;this.options.preventDefault&&t.preventDefault();var s=t.clientX,n=t.clientY;this._prevCoord=[s,n],this._prevTime=Date.now(),this._down=!0,this._move=!1,void 0!==this.options.direction?(this._position=0,i=0,e=0):(this._position=[0,0],i=[0,0],e=[0,0]),this.options.clickThreshold&&(this._displacement=[0,0]);var o=this._payload;o.delta=i,o.position=this._position,o.velocity=e,o.clientX=s,o.clientY=n,o.offsetX=t.offsetX,o.offsetY=t.offsetY,this._positionHistory.push({position:o.position.slice?o.position.slice(0):o.position,time:this._prevTime}),this._eventOutput.emit("start",o),this._documentActive=!1}function o(t){if(this._prevCoord){var i=this._prevCoord,e=(this._prevTime,t.clientX),n=t.clientY,o=Date.now(),r=e-i[0],a=n-i[1];this.options.rails&&(Math.abs(r)>Math.abs(a)?a=0:r=0);var h,u,p=Math.max(o-this._positionHistory[0].time,c),l=this.options.scale;this.options.direction===s.DIRECTION_X?(u=l*r,this._position+=u,h=l*(this._position-this._positionHistory[0].position)/p):this.options.direction===s.DIRECTION_Y?(u=l*a,this._position+=u,h=l*(this._position-this._positionHistory[0].position)/p):(u=[l*r,l*a],h=[l*(this._position[0]-this._positionHistory[0].position[0])/p,l*(this._position[1]-this._positionHistory[0].position[1])/p],this._position[0]+=u[0],this._position[1]+=u[1]),this.options.clickThreshold!==!1&&(this._displacement[0]+=r,this._displacement[1]+=a);var f=this._payload;f.delta=u,f.position=this._position,f.velocity=h,f.clientX=e,f.clientY=n,f.offsetX=t.offsetX,f.offsetY=t.offsetY,this._positionHistory.length===this.options.velocitySampleLength&&this._positionHistory.shift(),this._positionHistory.push({position:f.position.slice?f.position.slice(0):f.position,time:o}),this._eventOutput.emit("update",f),this._prevCoord=[e,n],this._prevTime=o,this._move=!0}}function r(){this._down&&(this._eventOutput.emit("end",this._payload),this._prevCoord=void 0,this._prevTime=void 0,this._down=!1,this._move=!1,this._positionHistory=[])}function a(t){if(this._down&&this._move&&!this._documentActive){var i=o.bind(this),e=function(t){r.call(this,t),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}.bind(this,t);document.addEventListener("mousemove",i),document.addEventListener("mouseup",e),this._documentActive=!0}}var h=t("../core/EventHandler"),u=t("../core/OptionsManager");s.DEFAULT_OPTIONS={clickThreshold:void 0,direction:void 0,rails:!1,scale:1,propogate:!0,velocitySampleLength:10,preventDefault:!0},s.DIRECTION_X=0,s.DIRECTION_Y=1;var c=8;s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.exports=s}),e("famous/inputs/TouchTracker",["require","exports","module","../core/EventHandler"],function(t,i,e){function s(t,i,e){return{x:t.clientX,y:t.clientY,identifier:t.identifier,origin:i.origin,timestamp:c(),count:i.touches.length,history:e}}function n(t){if(!(t.touches.length>this.touchLimit)){this.isTouched=!0;for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],n=s(e,t,null);this.eventOutput.emit("trackstart",n),this.selective||this.touchHistory[e.identifier]||this.track(n)}}}function o(t){if(!(t.touches.length>this.touchLimit))for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],n=this.touchHistory[e.identifier];if(n){var o=s(e,t,n);this.touchHistory[e.identifier].push(o),this.eventOutput.emit("trackmove",o)}}}function r(t){if(this.isTouched){for(var i=0;i<t.changedTouches.length;i++){var e=t.changedTouches[i],n=this.touchHistory[e.identifier];if(n){var o=s(e,t,n);this.eventOutput.emit("trackend",o),delete this.touchHistory[e.identifier]}}this.isTouched=!1}}function a(){for(var t in this.touchHistory){var i=this.touchHistory[t];this.eventOutput.emit("trackend",{touch:i[i.length-1].touch,timestamp:Date.now(),count:0,history:i}),delete this.touchHistory[t]}}function h(t){this.selective=t.selective,this.touchLimit=t.touchLimit||1,this.touchHistory={},this.eventInput=new u,this.eventOutput=new u,u.setInputHandler(this,this.eventInput),u.setOutputHandler(this,this.eventOutput),this.eventInput.on("touchstart",n.bind(this)),this.eventInput.on("touchmove",o.bind(this)),this.eventInput.on("touchend",r.bind(this)),this.eventInput.on("touchcancel",r.bind(this)),this.eventInput.on("unpipe",a.bind(this)),this.isTouched=!1}var u=t("../core/EventHandler"),c=Date.now;h.prototype.track=function(t){this.touchHistory[t.identifier]=[t]},e.exports=h}),e("famous/inputs/TouchSync",["require","exports","module","./TouchTracker","../core/EventHandler","../core/OptionsManager"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new u(this.options),t&&this.setOptions(t),this._eventOutput=new h,this._touchTracker=new a({touchLimit:this.options.touchLimit}),h.setOutputHandler(this,this._eventOutput),h.setInputHandler(this,this._touchTracker),this._touchTracker.on("trackstart",n.bind(this)),this._touchTracker.on("trackmove",o.bind(this)),this._touchTracker.on("trackend",r.bind(this)),this._payload={delta:null,position:null,velocity:null,clientX:void 0,clientY:void 0,count:0,touch:void 0},this._position=null}function n(t){var i,e;void 0!==this.options.direction?(this._position=0,i=0,e=0):(this._position=[0,0],i=[0,0],e=[0,0]);var s=this._payload;s.delta=e,s.position=this._position,s.velocity=i,s.clientX=t.x,s.clientY=t.y,s.count=t.count,s.touch=t.identifier,this._eventOutput.emit("start",s)}function o(t){var i=t.history,e=i[i.length-1],n=i[i.length-2],o=i[i.length-this.options.velocitySampleLength]?i[i.length-this.options.velocitySampleLength]:i[i.length-2],r=o.timestamp,a=e.timestamp,h=e.x-n.x,u=e.y-n.y,p=e.x-o.x,l=e.y-o.y;this.options.rails&&(Math.abs(h)>Math.abs(u)?u=0:h=0,Math.abs(p)>Math.abs(l)?l=0:p=0);var f,d,_=Math.max(a-r,c),g=p/_,y=l/_,m=this.options.scale;this.options.direction===s.DIRECTION_X?(d=m*h,f=m*g,this._position+=d):this.options.direction===s.DIRECTION_Y?(d=m*u,f=m*y,this._position+=d):(d=[m*h,m*u],f=[m*g,m*y],this._position[0]+=d[0],this._position[1]+=d[1]);var v=this._payload;v.delta=d,v.velocity=f,v.position=this._position,v.clientX=t.x,v.clientY=t.y,v.count=t.count,v.touch=t.identifier,this._eventOutput.emit("update",v)}function r(t){this._payload.count=t.count,this._eventOutput.emit("end",this._payload)}var a=t("./TouchTracker"),h=t("../core/EventHandler"),u=t("../core/OptionsManager");s.DEFAULT_OPTIONS={direction:void 0,rails:!1,touchLimit:1,velocitySampleLength:10,scale:1},s.DIRECTION_X=0,s.DIRECTION_Y=1;var c=8;s.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},s.prototype.getOptions=function(){return this.options},e.exports=s}),e("views/TabView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/core/EventHandler","famous/inputs/GenericSync","famous/inputs/MouseSync","famous/inputs/TouchSync"],function(t,i,e){function s(){r.apply(this,arguments),n.call(this),o.call(this)}function n(){console.log("Background being created for tabView: w: "+this.options.offset+", h: "+this.options.height);var t=new a({size:[100,this.options.height],properties:{backgroundColor:"black"}}),i=new u({transform:h.translate(this.options.offset/2-this.options.offset/6,0,2)});i.setOpacity(0),t.on("click",function(t){t.tabName=this.options.title,this._eventOutput.emit("TabReflow",t)}.bind(this)),this.add(i).add(t),this.background={modifier:i,surface:t}}function o(){var t=new a({size:[!0,!0],content:this.options.title,properties:{color:"white",fontFamily:"AvenirNextCondensed-DemiBold",fontSize:this.options.fontSize+"px",textTransform:"uppercase",pointerEvents:"none",textAlign:"center"}}),i=new u({transform:h.translate(this.options.offset/2,800,6)});i.setTransform(h.translate(this.options.offset/2,this.options.height/2,6),{duration:1e3+200*this.options.orderNumber,curve:"easeInOut"}),i.setAlign([0,0]),t.on("click",function(t){t.tabName=this.options.title,this._eventOutput.emit("TabReflow",t)}.bind(this)),this.title={modifier:i,surface:t},this.add(i).add(t)}var r=t("famous/core/View"),a=t("famous/core/Surface"),h=t("famous/core/Transform"),u=t("famous/modifiers/StateModifier"),c=(t("famous/core/EventHandler"),t("famous/inputs/GenericSync")),p=t("famous/inputs/MouseSync"),l=t("famous/inputs/TouchSync");c.register({mouse:p,touch:l}),s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.changeText=function(t){void 0!==this.title&&void 0!==this.title.surface?this.title.surface.setContent(t):console.log("Title is missing")},s.DEFAULT_OPTIONS={title:"PlaceHolderTitle",offset:50,height:50,width:100,fontSize:12,transitionIn:{curve:"easeInOut",duration:1e3},orderNumber:1},e.exports=s}),e("views/MenuView",["require","exports","module","famous/core/View","famous/core/Surface","famous/surfaces/ContainerSurface","famous/core/Transform","famous/core/EventHandler","famous/modifiers/StateModifier","famous/surfaces/ImageSurface","views/TabView"],function(t,i,e){function s(){p.apply(this,arguments),n.call(this),o.call(this),r.call(this),a.call(this),h.call(this)
}function n(){this._eventInput.on("TabReflow",c.bind(this))}function o(){var t=new l({size:[this.options.width,60],properties:{backgroundColor:"black"}}),i=new d({transform:f.translate(0,0,0),origin:[0,0]});this.add(i).add(t),this.blackBackgroundModifier=i}function r(){var t=0,i=(this.options.width,this.options.height,this.options.width);this.options.tabData.length>0&&(i/=this.options.tabData.length),this.tabs=new Array,this.tabModifiers=new Array;for(var e=0;e<this.options.tabData.length;++e){var s=new g({title:this.options.tabData[e],parentTranslation:t,offset:i,width:100,height:50,orderNumber:e});this.subscribe(s);var n=new d({transform:f.translate(t,0,1)});t+=i,this.tabs.push(s),this.tabModifiers.push(n),this.add(n).add(s)}}function a(){var t=new l({size:[100,25],properties:{backgroundColor:"gray"}}),i=this.tabs[0],e=0;void 0!=i&&null!=i&&(e=i.options.orderNumber);var s=new d({opacity:.5}),n=this.options.width/this.options.tabData.length,o=e*n+100,r=.1875*this.options.height;s.setTransform(f.translate(o,r,6)),this.add(s).add(t),this.highlighterTransformModifier=s}function h(){var t=new _({content:"content/images/hamburger_view.png",size:[35,35],properties:{backgroundColor:"white"}}),i=new d({transform:f.translate(10,7.55,2),origin:[0,0]});this.add(i).add(t),this.hamburgerTransformModifier=i,this.visible=!0,t.on("click",u.bind(this))}function u(){for(var t=this.tabs.length,i=this.options.fadeDuration,e=0!=t?i/t:i,s=0;t>s;++s){var n=this.tabModifiers[s];n.setOpacity(this.visible?0:1,{duration:e*s,curve:"easeInOut"})}this.blackBackgroundModifier.setOpacity(this.visible?0:1,{duration:i+200,curve:"easeInOut"}),this.highlighterTransformModifier.setOpacity(this.visible?0:1,{duration:i,curve:"easeInOut"}),this.visible=!this.visible}function c(t){for(var i=(this.options,t.tabName),e=0;this.tabs.length;++e){var s=this.tabs[e].getOptions();if(i==s.title){var n=s.orderNumber;this.highlighterTransformModifier.setTransform(f.translate(n*s.offset+75,.372*s.height,6),{duration:500,curve:"easeIn"});break}}}var p=t("famous/core/View"),l=t("famous/core/Surface"),f=(t("famous/surfaces/ContainerSurface"),t("famous/core/Transform")),d=(t("famous/core/EventHandler"),t("famous/modifiers/StateModifier")),_=t("famous/surfaces/ImageSurface"),g=t("views/TabView");s.prototype=Object.create(p.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={tabData:["Home","About Me","Games","Gallery","Blog"],topOffset:0,tabWidth:100,width:window.innerWidth,height:100,fadeDuration:2500},e.exports=s}),e("famous/surfaces/VideoSurface",["require","exports","module","../core/Surface"],function(t,i,e){function s(t){n.apply(this,arguments),this._videoUrl=void 0,this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t)}var n=t("../core/Surface");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={autoplay:!1},s.prototype.elementType="video",s.prototype.elementClass="famous-surface",s.prototype.setOptions=function(t){t.size&&this.setSize(t.size),t.classes&&this.setClasses(t.classes),t.properties&&this.setProperties(t.properties),t.autoplay&&(this.options.autoplay=t.autoplay),t.src&&(this._videoUrl=t.src,this._contentDirty=!0)},s.prototype.setContent=function(t){this._videoUrl=t,this._contentDirty=!0},s.prototype.deploy=function(t){t.src=this._videoUrl,t.autoplay=this.options.autoplay},s.prototype.recall=function(t){t.src=""},e.exports=s}),e("views/VideoView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/surfaces/VideoSurface","famous/surfaces/ImageSurface"],function(t,i,e){function s(){o.apply(this,arguments),n.call(this)}function n(){{var t=new h({autoplay:"true",loop:"true",properties:{preload:"auto"}});new u({size:[!0,!0]})}t.setContent("http://vid358.photobucket.com/albums/oo24/encephalopathy/TableMtn_zpssn7ut43t.mp4");var i=new a({transform:r.translate(0,0,-1)});i.setSize({size:[1e3,500]}),this.add(i).add(t)}var o=t("famous/core/View"),r=(t("famous/core/Surface"),t("famous/core/Transform")),a=t("famous/modifiers/StateModifier"),h=t("famous/surfaces/VideoSurface"),u=t("famous/surfaces/ImageSurface");s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={},e.exports=s}),e("controllers/PageController",["require","exports","module","famous/core/EventHandler"],function(t,i,e){function s(){this._uiInputEventHandler=new r,this._uiOutputEventHandler=new r,this.eventHandler=new r,n.call(this)}function n(){this.eventHandler.on("TabReflow",o.bind(this))}function o(t){var i=t.tabName;if(void 0!==i)var e=a.child(i);t.name="LoadView",t.data=e,this.eventHandler.emit("LoadView",t)}var r=t("famous/core/EventHandler"),a=new Firebase("https://burning-fire-9618.firebaseio.com/");e.exports=s}),e("famous/math/Vector",["require","exports","module"],function(t,i,e){function s(t,i,e){return 1===arguments.length&&void 0!==t?this.set(t):(this.x=t||0,this.y=i||0,this.z=e||0),this}function n(t,i,e){return this.x=t,this.y=i,this.z=e,this}function o(t){return n.call(this,t[0],t[1],t[2]||0)}function r(t){return n.call(this,t.x,t.y,t.z)}function a(t){return n.call(this,t,0,0)}var h=new s(0,0,0);s.prototype.add=function(t){return n.call(h,this.x+t.x,this.y+t.y,this.z+t.z)},s.prototype.sub=function(t){return n.call(h,this.x-t.x,this.y-t.y,this.z-t.z)},s.prototype.mult=function(t){return n.call(h,t*this.x,t*this.y,t*this.z)},s.prototype.div=function(t){return this.mult(1/t)},s.prototype.cross=function(t){var i=this.x,e=this.y,s=this.z,o=t.x,r=t.y,a=t.z;return n.call(h,s*r-e*a,i*a-s*o,e*o-i*r)},s.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},s.prototype.rotateX=function(t){var i=this.x,e=this.y,s=this.z,o=Math.cos(t),r=Math.sin(t);return n.call(h,i,e*o-s*r,e*r+s*o)},s.prototype.rotateY=function(t){var i=this.x,e=this.y,s=this.z,o=Math.cos(t),r=Math.sin(t);return n.call(h,s*r+i*o,e,s*o-i*r)},s.prototype.rotateZ=function(t){var i=this.x,e=this.y,s=this.z,o=Math.cos(t),r=Math.sin(t);return n.call(h,i*o-e*r,i*r+e*o,s)},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},s.prototype.normSquared=function(){return this.dot(this)},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.normalize=function(t){0===arguments.length&&(t=1);var i=this.norm();return i>1e-7?r.call(h,this.mult(t/i)):n.call(h,t,0,0)},s.prototype.clone=function(){return new s(this)},s.prototype.isZero=function(){return!(this.x||this.y||this.z)},s.prototype.set=function(t){return t instanceof Array?o.call(this,t):"number"==typeof t?a.call(this,t):r.call(this,t)},s.prototype.setXYZ=function(){return n.apply(this,arguments)},s.prototype.set1D=function(t){return a.call(this,t)},s.prototype.put=function(t){this===h?r.call(t,h):r.call(t,this)},s.prototype.clear=function(){return n.call(this,0,0,0)},s.prototype.cap=function u(u){if(1/0===u)return r.call(h,this);var t=this.norm();return t>u?r.call(h,this.mult(u/t)):r.call(h,this)},s.prototype.project=function(t){return t.mult(this.dot(t))},s.prototype.reflectAcross=function(t){return t.normalize().put(t),r(h,this.sub(this.project(t).mult(2)))},s.prototype.get=function(){return[this.x,this.y,this.z]},s.prototype.get1D=function(){return this.x},e.exports=s}),e("famous/math/Matrix",["require","exports","module","./Vector"],function(t,i,e){function s(t){return this.values=t||[[1,0,0],[0,1,0],[0,0,1]],this}var n=t("./Vector"),o=new s,r=new n;s.prototype.get=function(){return this.values},s.prototype.set=function(t){this.values=t},s.prototype.vectorMultiply=function(t){var i=this.get(),e=t.x,s=t.y,n=t.z,o=i[0],a=i[1],h=i[2],u=o[0],c=o[1],p=o[2],l=a[0],f=a[1],d=a[2],_=h[0],g=h[1],y=h[2];return r.setXYZ(u*e+c*s+p*n,l*e+f*s+d*n,_*e+g*s+y*n)},s.prototype.multiply=function(t){for(var i=this.get(),e=[[]],s=0;3>s;s++){e[s]=[];for(var n=0;3>n;n++){for(var r=0,a=0;3>a;a++)r+=i[s][a]*t[a][n];e[s][n]=r}}return o.set(e)},s.prototype.transpose=function(){for(var t=[[],[],[]],i=this.get(),e=0;3>e;e++)for(var s=0;3>s;s++)t[e][s]=i[s][e];return o.set(t)},s.prototype.clone=function(){for(var t=this.get(),i=[],e=0;3>e;e++)i[e]=t[e].slice();return new s(i)},e.exports=s}),e("famous/views/Lightbox",["require","exports","module","../core/Transform","../core/Modifier","../core/RenderNode","../utilities/Utility","../core/OptionsManager","../transitions/Transitionable","../transitions/TransitionableTransform"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new h(this.options),t&&this.setOptions(t),this._showing=!1,this.nodes=[],this.transforms=[],this.states=[]}var n=t("../core/Transform"),o=t("../core/Modifier"),r=t("../core/RenderNode"),a=t("../utilities/Utility"),h=t("../core/OptionsManager"),u=t("../transitions/Transitionable"),c=t("../transitions/TransitionableTransform");s.DEFAULT_OPTIONS={inTransform:n.scale(.001,.001,.001),inOpacity:0,inOrigin:[.5,.5],inAlign:[.5,.5],outTransform:n.scale(.001,.001,.001),outOpacity:0,outOrigin:[.5,.5],outAlign:[.5,.5],showTransform:n.identity,showOpacity:1,showOrigin:[.5,.5],showAlign:[.5,.5],inTransition:!0,outTransition:!0,overlap:!1},s.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},s.prototype.show=function(t,i,e){if(!t)return this.hide(e);if(i instanceof Function&&(e=i,i=void 0),this._showing){if(!this.options.overlap)return this.hide(this.show.bind(this,t,i,e));this.hide()}this._showing=!0;var s={transform:new c(this.options.inTransform),origin:new u(this.options.inOrigin),align:new u(this.options.inAlign),opacity:new u(this.options.inOpacity)},n=new o({transform:s.transform,opacity:s.opacity,origin:s.origin,align:s.align}),h=new r;h.add(n).add(t),this.nodes.push(h),this.states.push(s),this.transforms.push(n);var p=e?a.after(3,e):void 0;i||(i=this.options.inTransition),s.transform.set(this.options.showTransform,i,p),s.opacity.set(this.options.showOpacity,i,p),s.origin.set(this.options.showOrigin,i,p),s.align.set(this.options.showAlign,i,p)},s.prototype.hide=function(t,i){if(this._showing){this._showing=!1,t instanceof Function&&(i=t,t=void 0);var e=this.nodes[this.nodes.length-1],s=this.transforms[this.transforms.length-1],n=this.states[this.states.length-1],o=a.after(3,function(){this.nodes.splice(this.nodes.indexOf(e),1),this.states.splice(this.states.indexOf(n),1),this.transforms.splice(this.transforms.indexOf(s),1),i&&i.call(this)}.bind(this));t||(t=this.options.outTransition),n.transform.set(this.options.outTransform,t,o),n.opacity.set(this.options.outOpacity,t,o),n.origin.set(this.options.outOrigin,t,o),n.align.set(this.options.outAlign,t,o)}},s.prototype.render=function(){for(var t=[],i=0;i<this.nodes.length;i++)t.push(this.nodes[i].render());return t},e.exports=s}),e("famous/physics/PhysicsEngine",["require","exports","module","../core/EventHandler"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._particles=[],this._bodies=[],this._agentData={},this._forces=[],this._constraints=[],this._buffer=0,this._prevTime=w(),this._isSleeping=!1,this._eventHandler=null,this._currAgentId=0,this._hasBodies=!1,this._eventHandler=null}function n(t){return t.applyForce?this._forces:t.applyConstraint?this._constraints:void 0}function o(t,i,e){return void 0===i&&(i=this.getParticlesAndBodies()),i instanceof Array||(i=[i]),t.on("change",this.wake.bind(this)),this._agentData[this._currAgentId]={agent:t,id:this._currAgentId,targets:i,source:e},n.call(this,t).push(this._currAgentId),this._currAgentId++}function r(t){return this._agentData[t]}function a(t){var i=r.call(this,this._forces[t]);i.agent.applyForce(i.targets,i.source)}function h(){for(var t=this._forces.length-1;t>-1;t--)a.call(this,t)}function u(t,i){var e=this._agentData[this._constraints[t]];return e.agent.applyConstraint(e.targets,e.source,i)}function c(t){for(var i=0;i<this.options.constraintSteps;){for(var e=this._constraints.length-1;e>-1;e--)u.call(this,e,t);i++}}function p(t,i){t.integrateVelocity(i),this.options.velocityCap&&t.velocity.cap(this.options.velocityCap).put(t.velocity)}function l(t,i){t.integrateAngularMomentum(i),t.updateAngularVelocity(),this.options.angularVelocityCap&&t.angularVelocity.cap(this.options.angularVelocityCap).put(t.angularVelocity)}function f(t,i){t.integrateOrientation(i)}function d(t,i){t.integratePosition(i),t.emit(T.update,t)}function _(t){h.call(this,t),this.forEach(p,t),this.forEachBody(l,t),c.call(this,t),this.forEachBody(f,t),this.forEach(d,t)}function g(){var t=0,i=0;return this.forEach(function(e){i=e.getEnergy(),t+=i}),t}function y(){var t=0;for(var i in this._agentData)t+=this.getAgentEnergy(i);return t}var m=t("../core/EventHandler"),v=17,O=1e3/120,S=17,w=Date.now,T={start:"start",update:"update",end:"end"};s.DEFAULT_OPTIONS={constraintSteps:1,sleepTolerance:1e-7,velocityCap:void 0,angularVelocityCap:void 0},s.prototype.setOptions=function(t){for(var i in t)this.options[i]&&(this.options[i]=t[i])},s.prototype.addBody=function(t){return t._engine=this,t.isBody?(this._bodies.push(t),this._hasBodies=!0):this._particles.push(t),t.on("start",this.wake.bind(this)),t},s.prototype.removeBody=function(t){var i=t.isBody?this._bodies:this._particles,e=i.indexOf(t);if(e>-1){for(var s in this._agentData)this._agentData.hasOwnProperty(s)&&this.detachFrom(this._agentData[s].id,t);i.splice(e,1)}0===this.getBodies().length&&(this._hasBodies=!1)},s.prototype.attach=function(t,i,e){if(this.wake(),t instanceof Array){for(var s=[],n=0;n<t.length;n++)s[n]=o.call(this,t[n],i,e);return s}return o.call(this,t,i,e)},s.prototype.attachTo=function(t,i){r.call(this,t).targets.push(i)},s.prototype.detach=function(t){var i=this.getAgent(t),e=n.call(this,i),s=e.indexOf(t);e.splice(s,1),delete this._agentData[t]},s.prototype.detachFrom=function(t,i){var e=r.call(this,t);if(e.source===i)this.detach(t);else{var s=e.targets,n=s.indexOf(i);n>-1&&s.splice(n,1)}},s.prototype.detachAll=function(){this._agentData={},this._forces=[],this._constraints=[],this._currAgentId=0},s.prototype.getAgent=function(t){return r.call(this,t).agent},s.prototype.getParticles=function(){return this._particles},s.prototype.getBodies=function(){return this._bodies},s.prototype.getParticlesAndBodies=function(){return this.getParticles().concat(this.getBodies())},s.prototype.forEachParticle=function(t,i){for(var e=this.getParticles(),s=0,n=e.length;n>s;s++)t.call(this,e[s],i)},s.prototype.forEachBody=function(t,i){if(this._hasBodies)for(var e=this.getBodies(),s=0,n=e.length;n>s;s++)t.call(this,e[s],i)},s.prototype.forEach=function(t,i){this.forEachParticle(t,i),this.forEachBody(t,i)},s.prototype.getAgentEnergy=function(t){var i=r.call(this,t);return i.agent.getEnergy(i.targets,i.source)},s.prototype.getEnergy=function(){return g.call(this)+y.call(this)},s.prototype.step=function(){if(!this.isSleeping()){var t=w(),i=t-this._prevTime;this._prevTime=t,O>i||(i>S&&(i=S),_.call(this,v),this.emit(T.update,this),this.getEnergy()<this.options.sleepTolerance&&this.sleep())}},s.prototype.isSleeping=function(){return this._isSleeping},s.prototype.isActive=function(){return!this._isSleeping},s.prototype.sleep=function(){this._isSleeping||(this.forEach(function(t){t.sleep()}),this.emit(T.end,this),this._isSleeping=!0)},s.prototype.wake=function(){this._isSleeping&&(this._prevTime=w(),this.emit(T.start,this),this._isSleeping=!1)},s.prototype.emit=function(t,i){null!==this._eventHandler&&this._eventHandler.emit(t,i)},s.prototype.on=function(t,i){null===this._eventHandler&&(this._eventHandler=new m),this._eventHandler.on(t,i)},e.exports=s}),e("famous/physics/integrators/SymplecticEuler",["require","exports","module"],function(t,i,e){var s={};s.integrateVelocity=function(t,i){var e=t.velocity,s=t.inverseMass,n=t.force;n.isZero()||(e.add(n.mult(i*s)).put(e),n.clear())},s.integratePosition=function(t,i){var e=t.position,s=t.velocity;e.add(s.mult(i)).put(e)},s.integrateAngularMomentum=function(t,i){var e=t.angularMomentum,s=t.torque;s.isZero()||(e.add(s.mult(i)).put(e),s.clear())},s.integrateOrientation=function(t,i){var e=t.orientation,s=t.angularVelocity;s.isZero()||e.add(e.multiply(s).scalarMultiply(.5*i)).put(e)},e.exports=s}),e("famous/physics/bodies/Particle",["require","exports","module","../../math/Vector","../../core/Transform","../../core/EventHandler","../integrators/SymplecticEuler"],function(t,i,e){function s(t){t=t||{};var i=s.DEFAULT_OPTIONS;this.position=new o,this.velocity=new o,this.force=new o,this._engine=null,this._isSleeping=!0,this._eventOutput=null,this.mass=void 0!==t.mass?t.mass:i.mass,this.inverseMass=1/this.mass,this.setPosition(t.position||i.position),this.setVelocity(t.velocity||i.velocity),this.force.set(t.force||[0,0,0]),this.transform=r.identity.slice(),this._spec={size:[!0,!0],target:{transform:this.transform,origin:[.5,.5],target:null}}}function n(){this._eventOutput=new a,this._eventOutput.bindThis(this),a.setOutputHandler(this,this._eventOutput)}var o=t("../../math/Vector"),r=t("../../core/Transform"),a=t("../../core/EventHandler"),h=t("../integrators/SymplecticEuler");s.DEFAULT_OPTIONS={position:[0,0,0],velocity:[0,0,0],mass:1};var u={start:"start",update:"update",end:"end"},c=Date.now;s.prototype.isBody=!1,s.prototype.isActive=function(){return!this._isSleeping},s.prototype.sleep=function(){this._isSleeping||(this.emit(u.end,this),this._isSleeping=!0)},s.prototype.wake=function(){this._isSleeping&&(this.emit(u.start,this),this._isSleeping=!1,this._prevTime=c(),this._engine&&this._engine.wake())},s.prototype.setPosition=function(t){this.position.set(t)},s.prototype.setPosition1D=function(t){this.position.x=t},s.prototype.getPosition=function(){return this._engine.step(),this.position.get()},s.prototype.getPosition1D=function(){return this._engine.step(),this.position.x},s.prototype.setVelocity=function(t){this.velocity.set(t),(0!==t[0]||0!==t[1]||0!==t[2])&&this.wake()},s.prototype.setVelocity1D=function(t){this.velocity.x=t,0!==t&&this.wake()},s.prototype.getVelocity=function(){return this.velocity.get()},s.prototype.setForce=function(t){this.force.set(t),this.wake()},s.prototype.getVelocity1D=function(){return this.velocity.x},s.prototype.setMass=function(t){this.mass=t,this.inverseMass=1/t},s.prototype.getMass=function(){return this.mass},s.prototype.reset=function(t,i){this.setPosition(t||[0,0,0]),this.setVelocity(i||[0,0,0])},s.prototype.applyForce=function(t){t.isZero()||(this.force.add(t).put(this.force),this.wake())},s.prototype.applyImpulse=function(t){if(!t.isZero()){var i=this.velocity;i.add(t.mult(this.inverseMass)).put(i)}},s.prototype.integrateVelocity=function(t){h.integrateVelocity(this,t)},s.prototype.integratePosition=function(t){h.integratePosition(this,t)},s.prototype._integrate=function(t){this.integrateVelocity(t),this.integratePosition(t)},s.prototype.getEnergy=function(){return.5*this.mass*this.velocity.normSquared()},s.prototype.getTransform=function(){this._engine.step();var t=this.position,i=this.transform;return i[12]=t.x,i[13]=t.y,i[14]=t.z,i},s.prototype.modify=function(t){var i=this._spec.target;return i.transform=this.getTransform(),i.target=t,this._spec},s.prototype.emit=function(t,i){this._eventOutput&&this._eventOutput.emit(t,i)},s.prototype.on=function(){return n.call(this),this.on.apply(this,arguments)},s.prototype.removeListener=function(){return n.call(this),this.removeListener.apply(this,arguments)},s.prototype.pipe=function(){return n.call(this),this.pipe.apply(this,arguments)},s.prototype.unpipe=function(){return n.call(this),this.unpipe.apply(this,arguments)},e.exports=s}),e("famous/physics/forces/Force",["require","exports","module","../../math/Vector","../../core/EventHandler"],function(t,i,e){function s(t){this.force=new n(t),this._eventOutput=new o,o.setOutputHandler(this,this._eventOutput)}var n=t("../../math/Vector"),o=t("../../core/EventHandler");s.prototype.setOptions=function(t){this._eventOutput.emit("change",t)},s.prototype.applyForce=function(t){for(var i=t.length;i--;)t[i].applyForce(this.force)},s.prototype.getEnergy=function(){return 0},e.exports=s}),e("famous/physics/forces/Drag",["require","exports","module","./Force"],function(t,i,e){function s(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),n.call(this)}var n=t("./Force");s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.FORCE_FUNCTIONS={LINEAR:function(t){return t},QUADRATIC:function(t){return t.mult(t.norm())}},s.DEFAULT_OPTIONS={strength:.01,forceFunction:s.FORCE_FUNCTIONS.LINEAR},s.prototype.applyForce=function(t){var i,e,s=this.options.strength,n=this.options.forceFunction,o=this.force;for(i=0;i<t.length;i++)e=t[i],n(e.velocity).mult(-s).put(o),e.applyForce(o)},s.prototype.setOptions=function(t){for(var i in t)this.options[i]=t[i]},e.exports=s}),e("famous/physics/forces/Spring",["require","exports","module","./Force","../../math/Vector"],function(t,i,e){function s(t){a.call(this),this.options=Object.create(this.constructor.DEFAULT_OPTIONS),t&&this.setOptions(t),this.disp=new h(0,0,0),r.call(this)}function n(){var t=this.options;t.stiffness=Math.pow(2*u/t.period,2)}function o(){var t=this.options;t.damping=4*u*t.dampingRatio/t.period}function r(){n.call(this),o.call(this)}var a=t("./Force"),h=t("../../math/Vector");s.prototype=Object.create(a.prototype),s.prototype.constructor=s;var u=Math.PI,c=150;s.FORCE_FUNCTIONS={FENE:function(t,i){var e=.99*i,s=Math.max(Math.min(t,e),-e);return s/(1-s*s/(i*i))},HOOK:function(t){return t}},s.DEFAULT_OPTIONS={period:300,dampingRatio:.1,length:0,maxLength:1/0,anchor:void 0,forceFunction:s.FORCE_FUNCTIONS.HOOK},s.prototype.setOptions=function(t){void 0!==t.anchor&&(t.anchor.position instanceof h&&(this.options.anchor=t.anchor.position),t.anchor instanceof h&&(this.options.anchor=t.anchor),t.anchor instanceof Array&&(this.options.anchor=new h(t.anchor))),void 0!==t.period&&(t.period<c&&(t.period=c,console.warn("The period of a SpringTransition is capped at "+c+" ms. Use a SnapTransition for faster transitions")),this.options.period=t.period),void 0!==t.dampingRatio&&(this.options.dampingRatio=t.dampingRatio),void 0!==t.length&&(this.options.length=t.length),void 0!==t.forceFunction&&(this.options.forceFunction=t.forceFunction),void 0!==t.maxLength&&(this.options.maxLength=t.maxLength),r.call(this),a.prototype.setOptions.call(this,t)},s.prototype.applyForce=function(t,i){var e,s,n,o,r,a,h=this.force,u=this.disp,c=this.options,p=c.stiffness,l=c.damping,f=c.length,d=c.maxLength,_=c.anchor||i.position,g=c.forceFunction;for(e=0;e<t.length;e++){if(s=t[e],n=s.position,o=s.velocity,_.sub(n).put(u),r=u.norm()-f,0===r)return;a=s.mass,p*=a,l*=a,u.normalize(p*g(r,d)).put(h),l&&(i?h.add(o.sub(i.velocity).mult(-l)).put(h):h.add(o.mult(-l)).put(h)),s.applyForce(h),i&&i.applyForce(h.mult(-1))}},s.prototype.getEnergy=function(t,i){for(var e=this.options,s=e.length,n=i?i.position:e.anchor,o=e.stiffness,r=0,a=0;a<t.length;a++){var h=t[a],u=n.sub(h.position).norm()-s;r+=.5*o*u*u}return r},e.exports=s}),e("famous/core/ViewSequence",["require","exports","module"],function(t,i,e){function s(t){t||(t=[]),t instanceof Array&&(t={array:t}),this._=null,this.index=t.index||0,t.array?this._=new this.constructor.Backing(t.array):t._&&(this._=t._),this.index===this._.firstIndex&&(this._.firstNode=this),this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),void 0!==t.loop&&(this._.loop=t.loop),void 0!==t.trackSize&&(this._.trackSize=t.trackSize),this._previousNode=null,this._nextNode=null}s.Backing=function(t){this.array=t,this.firstIndex=0,this.loop=!1,this.firstNode=null,this.lastNode=null,this.cumulativeSizes=[[0,0]],this.sizeDirty=!0,this.trackSize=!1},s.Backing.prototype.getValue=function(t){var i=t-this.firstIndex;return 0>i||i>=this.array.length?null:this.array[i]},s.Backing.prototype.setValue=function(t,i){this.array[t-this.firstIndex]=i},s.Backing.prototype.getSize=function(t){return this.cumulativeSizes[t]},s.Backing.prototype.calculateSize=function(t){t=t||this.array.length;for(var i=[0,0],e=0;t>e;e++){var s=this.array[e].getSize();if(!s)return void 0;void 0!==i[0]&&(void 0===s[0]?i[0]=void 0:i[0]+=s[0]),void 0!==i[1]&&(void 0===s[1]?i[1]=void 0:i[1]+=s[1]),this.cumulativeSizes[e+1]=i.slice()}return this.sizeDirty=!1,i},s.Backing.prototype.reindex=function(t,i,e){if(this.array[0]){for(var s=0,n=this.firstIndex,o=e-i,r=this.firstNode;t-1>n;)r=r.getNext(),n++;var a=r;for(s=0;i>s;s++)r=r.getNext(),r&&(r._previousNode=a);var h=r?r.getNext():null;for(a._nextNode=null,r=a,s=0;e>s;s++)r=r.getNext();if(n+=e,r!==h&&(r._nextNode=h,h&&(h._previousNode=r)),h)for(r=h,n++;r&&n<this.array.length+this.firstIndex;)r._nextNode?r.index+=o:r.index=n,r=r.getNext(),n++;this.trackSize&&(this.sizeDirty=!0)}},s.prototype.getPrevious=function(){var t=this._.array.length;return t?this.index===this._.firstIndex?this._.loop?(this._previousNode=this._.lastNode||new this.constructor({_:this._,index:this._.firstIndex+t-1}),this._previousNode._nextNode=this):this._previousNode=null:this._previousNode||(this._previousNode=new this.constructor({_:this._,index:this.index-1}),this._previousNode._nextNode=this):this._previousNode=null,this._previousNode},s.prototype.getNext=function(){var t=this._.array.length;return t?this.index===this._.firstIndex+t-1?this._.loop?(this._nextNode=this._.firstNode||new this.constructor({_:this._,index:this._.firstIndex}),this._nextNode._previousNode=this):this._nextNode=null:this._nextNode||(this._nextNode=new this.constructor({_:this._,index:this.index+1}),this._nextNode._previousNode=this):this._nextNode=null,this._nextNode},s.prototype.indexOf=function(t){return this._.array.indexOf(t)},s.prototype.getIndex=function(){return this.index},s.prototype.toString=function(){return""+this.index},s.prototype.unshift=function(){this._.array.unshift.apply(this._.array,arguments),this._.firstIndex-=arguments.length,this._.trackSize&&(this._.sizeDirty=!0)},s.prototype.push=function(){this._.array.push.apply(this._.array,arguments),this._.trackSize&&(this._.sizeDirty=!0)},s.prototype.splice=function(t,i){var e=Array.prototype.slice.call(arguments,2);this._.array.splice.apply(this._.array,[t-this._.firstIndex,i].concat(e)),this._.reindex(t,i,e.length)},s.prototype.swap=function(t){var i=t.get(),e=this.get();this._.setValue(this.index,i),this._.setValue(t.index,e);var s=this._previousNode,n=this._nextNode,o=this.index,r=t._previousNode,a=t._nextNode,h=t.index;this.index=h,this._previousNode=r===this?t:r,this._previousNode&&(this._previousNode._nextNode=this),this._nextNode=a===this?t:a,this._nextNode&&(this._nextNode._previousNode=this),t.index=o,t._previousNode=s===t?this:s,t._previousNode&&(t._previousNode._nextNode=t),t._nextNode=n===t?this:n,t._nextNode&&(t._nextNode._previousNode=t),this.index===this._.firstIndex?this._.firstNode=this:this.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=this),t.index===this._.firstIndex?this._.firstNode=t:t.index===this._.firstIndex+this._.array.length-1&&(this._.lastNode=t),this._.trackSize&&(this._.sizeDirty=!0)},s.prototype.get=function(){return this._.getValue(this.index)},s.prototype.getSize=function(){var t=this.get();return t?t.getSize():null},s.prototype.render=function(){this._.trackSize&&this._.sizeDirty&&this._.calculateSize();var t=this.get();return t?t.render.apply(t,arguments):null},e.exports=s}),e("famous/core/Group",["require","exports","module","./Context","./Transform","./Surface"],function(t,i,e){function s(t){r.call(this,t),this._shouldRecalculateSize=!1,this._container=document.createDocumentFragment(),this.context=new n(this._container),this.setContent(this._container),this._groupSize=[void 0,void 0]}var n=t("./Context"),o=t("./Transform"),r=t("./Surface");s.SIZE_ZERO=[0,0],s.prototype=Object.create(r.prototype),s.prototype.elementType="div",s.prototype.elementClass="famous-group",s.prototype.add=function(){return this.context.add.apply(this.context,arguments)},s.prototype.render=function(){return r.prototype.render.call(this)},s.prototype.deploy=function(t){this.context.migrate(t)},s.prototype.recall=function(){this._container=document.createDocumentFragment(),this.context.migrate(this._container)},s.prototype.commit=function(t){var i=t.transform,e=t.origin,n=t.opacity,a=t.size,h=r.prototype.commit.call(this,{allocator:t.allocator,transform:o.thenMove(i,[-e[0]*a[0],-e[1]*a[1],0]),opacity:n,origin:e,size:s.SIZE_ZERO});return(a[0]!==this._groupSize[0]||a[1]!==this._groupSize[1])&&(this._groupSize[0]=a[0],this._groupSize[1]=a[1],this.context.setSize(a)),this.context.update({transform:o.translate(-e[0]*a[0],-e[1]*a[1],0),origin:e,size:a}),h},e.exports=s}),e("famous/views/Scroller",["require","exports","module","../core/Entity","../core/Group","../core/OptionsManager","../core/Transform","../utilities/Utility","../core/ViewSequence","../core/EventHandler"],function(t,i,e){function s(t){this.options=Object.create(this.constructor.DEFAULT_OPTIONS),this._optionsManager=new c(this.options),t&&this._optionsManager.setOptions(t),this._node=null,this._position=0,this._positionOffset=0,this._positionGetter=null,this._outputFunction=null,this._masterOutputFunction=null,this.outputFrom(),this._onEdge=0,this.group=new u,this.group.add({render:a.bind(this)}),this._entityId=h.register(this),this._size=[void 0,void 0],this._contextSize=[void 0,void 0],this._eventInput=new d,this._eventOutput=new d,d.setInputHandler(this,this._eventInput),d.setOutputHandler(this,this._eventOutput)}function n(t){t||(t=this._contextSize);var i=this.options.direction;return void 0===t[i]?this._contextSize[i]:t[i]}function o(t,i,e){var s=t.getSize?t.getSize():this._contextSize,o=this._outputFunction(i);return e.push({transform:o,target:t.render()}),n.call(this,s)}function r(){return void 0!==this.options.clipSize?this.options.clipSize:this._contextSize[this.options.direction]>this.getCumulativeSize()[this.options.direction]?n.call(this,this.getCumulativeSize()):n.call(this,this._contextSize)}function a(){for(var t=null,i=this._position,e=[],s=-this._positionOffset,a=r.call(this),h=this._node;h&&s-i<a+this.options.margin;)s+=o.call(this,h,s,e),h=h.getNext?h.getNext():null;var u=this._node,c=n.call(this,u.getSize());if(a>s){for(;u&&a>c;)u=u.getPrevious(),u&&(c+=n.call(this,u.getSize()));for(u=this._node;u&&a>c;)u=u.getNext(),u&&(c+=n.call(this,u.getSize()))}for(!h&&a-_>s-i?1!==this._onEdge&&(this._onEdge=1,this._eventOutput.emit("onEdge",{position:s-a})):!this._node.getPrevious()&&-_>i?-1!==this._onEdge&&(this._onEdge=-1,this._eventOutput.emit("onEdge",{position:0})):0!==this._onEdge&&(this._onEdge=0,this._eventOutput.emit("offEdge")),h=this._node&&this._node.getPrevious?this._node.getPrevious():null,s=-this._positionOffset,h&&(t=h.getSize?h.getSize():this._contextSize,s-=n.call(this,t));h&&s-i>-(a+this.options.margin);)o.call(this,h,s,e),h=h.getPrevious?h.getPrevious():null,h&&(t=h.getSize?h.getSize():this._contextSize,s-=n.call(this,t));return e}var h=t("../core/Entity"),u=t("../core/Group"),c=t("../core/OptionsManager"),p=t("../core/Transform"),l=t("../utilities/Utility"),f=t("../core/ViewSequence"),d=t("../core/EventHandler");s.DEFAULT_OPTIONS={direction:l.Direction.Y,margin:0,clipSize:void 0,groupScroll:!1};var _=0;s.prototype.getCumulativeSize=function(t){return void 0===t&&(t=this._node._.cumulativeSizes.length-1),this._node._.getSize(t)},s.prototype.setOptions=function(t){t.groupScroll!==this.options.groupScroll&&(t.groupScroll?this.group.pipe(this._eventOutput):this.group.unpipe(this._eventOutput)),this._optionsManager.setOptions(t)},s.prototype.onEdge=function(){return this._onEdge},s.prototype.outputFrom=function(t,i){t||(t=function(t){return this.options.direction===l.Direction.X?p.translate(t,0):p.translate(0,t)}.bind(this),i||(i=t)),this._outputFunction=t,this._masterOutputFunction=i?i:function(i){return p.inverse(t(-i))}},s.prototype.positionFrom=function(t){t instanceof Function?this._positionGetter=t:t&&t.get?this._positionGetter=t.get.bind(t):(this._positionGetter=null,this._position=t),this._positionGetter&&(this._position=this._positionGetter.call(this))
},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new f({array:t})),this._node=t,this._positionOffset=0},s.prototype.getSize=function(t){return t?this._contextSize:this._size},s.prototype.render=function(){return this._node?(this._positionGetter&&(this._position=this._positionGetter.call(this)),this._entityId):null},s.prototype.commit=function(t){var i=t.transform,e=t.opacity,s=t.origin,n=t.size;this.options.clipSize||n[0]===this._contextSize[0]&&n[1]===this._contextSize[1]||(this._onEdge=0,this._contextSize[0]=n[0],this._contextSize[1]=n[1],this.options.direction===l.Direction.X?(this._size[0]=r.call(this),this._size[1]=void 0):(this._size[0]=void 0,this._size[1]=r.call(this)));var o=this._masterOutputFunction(-this._position);return{transform:p.multiply(i,o),size:n,opacity:e,origin:s,target:this.group.render()}},e.exports=s}),e("famous/inputs/ScrollSync",["require","exports","module","../core/EventHandler","../core/Engine","../core/OptionsManager"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new h(this.options),t&&this.setOptions(t),this._payload={delta:null,position:null,velocity:null,slip:!0},this._eventInput=new r,this._eventOutput=new r,r.setInputHandler(this,this._eventInput),r.setOutputHandler(this,this._eventOutput),this._position=void 0===this.options.direction?[0,0]:0,this._prevTime=void 0,this._prevVel=void 0,this._eventInput.on("mousewheel",o.bind(this)),this._eventInput.on("wheel",o.bind(this)),this._inProgress=!1,this._loopBound=!1}function n(){if(this._inProgress&&c()-this._prevTime>this.options.stallTime){this._inProgress=!1;var t=Math.abs(this._prevVel)>=this.options.minimumEndSpeed?this._prevVel:0,i=this._payload;i.position=this._position,i.velocity=t,i.slip=!0,this._eventOutput.emit("end",i)}}function o(t){this.options.preventDefault&&t.preventDefault(),this._inProgress||(this._inProgress=!0,this._position=void 0===this.options.direction?[0,0]:0,g=this._payload,g.slip=!0,g.position=this._position,g.clientX=t.clientX,g.clientY=t.clientY,g.offsetX=t.offsetX,g.offsetY=t.offsetY,this._eventOutput.emit("start",g),this._loopBound||(a.on("prerender",n.bind(this)),this._loopBound=!0));var i=c(),e=this._prevTime||i,o=void 0!==t.wheelDeltaX?t.wheelDeltaX:-t.deltaX,r=void 0!==t.wheelDeltaY?t.wheelDeltaY:-t.deltaY;1===t.deltaMode&&(o*=this.options.lineHeight,r*=this.options.lineHeight),this.options.rails&&(Math.abs(o)>Math.abs(r)?r=0:o=0);var h,p,l=Math.max(i-e,u),f=o/l,d=r/l,_=this.options.scale;this.options.direction===s.DIRECTION_X?(p=_*o,h=_*f,this._position+=p):this.options.direction===s.DIRECTION_Y?(p=_*r,h=_*d,this._position+=p):(p=[_*o,_*r],h=[_*f,_*d],this._position[0]+=p[0],this._position[1]+=p[1]);var g=this._payload;g.delta=p,g.velocity=h,g.position=this._position,g.slip=!0,this._eventOutput.emit("update",g),this._prevTime=i,this._prevVel=h}var r=t("../core/EventHandler"),a=t("../core/Engine"),h=t("../core/OptionsManager");s.DEFAULT_OPTIONS={direction:void 0,minimumEndSpeed:1/0,rails:!1,scale:1,stallTime:50,lineHeight:40,preventDefault:!0},s.DIRECTION_X=0,s.DIRECTION_Y=1;var u=8,c=Date.now;s.prototype.getOptions=function(){return this.options},s.prototype.setOptions=function(t){return this._optionsManager.setOptions(t)},e.exports=s}),e("famous/views/Scrollview",["require","exports","module","../physics/PhysicsEngine","../physics/bodies/Particle","../physics/forces/Drag","../physics/forces/Spring","../core/EventHandler","../core/OptionsManager","../core/ViewSequence","../views/Scroller","../utilities/Utility","../inputs/GenericSync","../inputs/ScrollSync","../inputs/TouchSync"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this._optionsManager=new S(this.options),this._scroller=new T(this.options),this.sync=new b(["scroll","touch"],{direction:this.options.direction,scale:this.options.syncScale,rails:this.options.rails,preventDefault:void 0!==this.options.preventDefault?this.options.preventDefault:this.options.direction!==x.Direction.Y}),this._physicsEngine=new g,this._particle=new y,this._physicsEngine.addBody(this._particle),this.spring=new v({anchor:[0,0,0],period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),this.drag=new m({forceFunction:m.FORCE_FUNCTIONS.QUADRATIC,strength:this.options.drag}),this.friction=new m({forceFunction:m.FORCE_FUNCTIONS.LINEAR,strength:this.options.friction}),this._node=null,this._touchCount=0,this._springState=M.NONE,this._onEdge=E.NONE,this._pageSpringPosition=0,this._edgeSpringPosition=0,this._touchVelocity=0,this._earlyEnd=!1,this._needsPaginationCheck=!1,this._displacement=0,this._totalShift=0,this._cachedIndex=0,this._scroller.positionFrom(this.getPosition.bind(this)),this._eventInput=new O,this._eventOutput=new O,this._eventInput.pipe(this.sync),this.sync.pipe(this._eventInput),O.setInputHandler(this,this._eventInput),O.setOutputHandler(this,this._eventOutput),a.call(this),t&&this.setOptions(t)}function n(t){this._touchCount=t.count,void 0===t.count&&(this._touchCount=1),u.call(this),this.setVelocity(0),this._touchVelocity=0,this._earlyEnd=!1}function o(t){var i=-t.velocity,e=-t.delta;if(this._onEdge!==E.NONE&&t.slip&&(0>i&&this._onEdge===E.TOP||i>0&&this._onEdge===E.BOTTOM?this._earlyEnd||(r.call(this,t),this._earlyEnd=!0):this._earlyEnd&&Math.abs(i)>Math.abs(this.getVelocity())&&n.call(this,t)),!this._earlyEnd){if(this._touchVelocity=i,t.slip){var s=this.options.speedLimit;-s>i?i=-s:i>s&&(i=s),this.setVelocity(i);var o=16*s;e>o?e=o:-o>e&&(e=-o)}this.setPosition(this.getPosition()+e),this._displacement+=e,this._springState===M.NONE&&d.call(this)}}function r(t){if(this._touchCount=t.count||0,!this._touchCount){u.call(this),this._onEdge!==E.NONE&&f.call(this,this._edgeSpringPosition,M.EDGE),h.call(this);var i=-t.velocity,e=this.options.speedLimit;t.slip&&(e*=this.options.edgeGrip),-e>i?i=-e:i>e&&(i=e),this.setVelocity(i),this._touchVelocity=0,this._needsPaginationCheck=!0}}function a(){this._eventInput.bindThis(this),this._eventInput.on("start",n),this._eventInput.on("update",o),this._eventInput.on("end",r),this._eventInput.on("resize",function(){this._node._.calculateSize()}.bind(this)),this._scroller.on("onEdge",function(t){this._edgeSpringPosition=t.position,p.call(this,this._scroller.onEdge()),this._eventOutput.emit("onEdge")}.bind(this)),this._scroller.on("offEdge",function(){this.sync.setOptions({scale:this.options.syncScale}),this._onEdge=this._scroller.onEdge(),this._eventOutput.emit("offEdge")}.bind(this)),this._particle.on("update",function(t){this._springState===M.NONE&&d.call(this),this._displacement=t.position.x-this._totalShift}.bind(this)),this._particle.on("end",function(){(!this.options.paginated||this.options.paginated&&this._springState!==M.NONE)&&this._eventOutput.emit("settle")}.bind(this))}function h(){this._springState?this._physicsEngine.attach([this.spring],this._particle):this._physicsEngine.attach([this.drag,this.friction],this._particle)}function u(){this._springState=M.NONE,this._physicsEngine.detachAll()}function c(t){var i=this.options.direction,e=t.getSize();return e?e[i]:this._scroller.getSize()[i]}function p(t){this.sync.setOptions({scale:this.options.edgeGrip}),this._onEdge=t,this._touchCount||this._springState===M.EDGE||f.call(this,this._edgeSpringPosition,M.EDGE),this._springState&&Math.abs(this.getVelocity())<.001&&(u.call(this),h.call(this))}function l(){if(!this._touchCount&&this._springState!==M.EDGE){var t=this.getVelocity();if(!(Math.abs(t)>=this.options.pageStopSpeed)){var i=this.getPosition(),e=Math.abs(t)>this.options.pageSwitchSpeed,s=c.call(this,this._node),n=i>.5*s,o=t>0,r=0>t;this._needsPaginationCheck=!1,n&&!e||e&&o?this.goToNextPage():e&&r?this.goToPreviousPage():f.call(this,0,M.PAGE)}}}function f(t,i){var e;i===M.EDGE?(this._edgeSpringPosition=t,e={anchor:[this._edgeSpringPosition,0,0],period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}):i===M.PAGE&&(this._pageSpringPosition=t,e={anchor:[this._pageSpringPosition,0,0],period:this.options.pagePeriod,dampingRatio:this.options.pageDamp}),this.spring.setOptions(e),i&&!this._springState&&(u.call(this),this._springState=i,h.call(this)),this._springState=i}function d(){var t=0,i=this.getPosition();i+=(0>i?-.5:.5)>>0;for(var e=c.call(this,this._node),s=this._node.getNext();t+i>=e&&s;)t-=e,this._scroller.sequenceFrom(s),this._node=s,s=this._node.getNext(),e=c.call(this,this._node);for(var n,o=this._node.getPrevious();0>=t+i&&o;)n=c.call(this,o),this._scroller.sequenceFrom(o),this._node=o,t+=n,o=this._node.getPrevious();t&&_.call(this,t),this._node&&(this._node.index!==this._cachedIndex?this.getPosition()<.5*e&&(this._cachedIndex=this._node.index,this._eventOutput.emit("pageChange",{direction:-1,index:this._cachedIndex})):this.getPosition()>.5*e&&(this._cachedIndex=this._node.index+1,this._eventOutput.emit("pageChange",{direction:1,index:this._cachedIndex})))}function _(t){this._edgeSpringPosition+=t,this._pageSpringPosition+=t,this.setPosition(this.getPosition()+t),this._totalShift+=t,this._springState===M.EDGE?this.spring.setOptions({anchor:[this._edgeSpringPosition,0,0]}):this._springState===M.PAGE&&this.spring.setOptions({anchor:[this._pageSpringPosition,0,0]})}var g=t("../physics/PhysicsEngine"),y=t("../physics/bodies/Particle"),m=t("../physics/forces/Drag"),v=t("../physics/forces/Spring"),O=t("../core/EventHandler"),S=t("../core/OptionsManager"),w=t("../core/ViewSequence"),T=t("../views/Scroller"),x=t("../utilities/Utility"),b=t("../inputs/GenericSync"),z=t("../inputs/ScrollSync"),I=t("../inputs/TouchSync");b.register({scroll:z,touch:I});var M={NONE:0,EDGE:1,PAGE:2},E={TOP:-1,NONE:0,BOTTOM:1};s.DEFAULT_OPTIONS={direction:x.Direction.Y,rails:!0,friction:.005,drag:1e-4,edgeGrip:.2,edgePeriod:300,edgeDamp:1,margin:1e3,paginated:!1,pagePeriod:500,pageDamp:.8,pageStopSpeed:10,pageSwitchSpeed:.5,speedLimit:5,groupScroll:!1,syncScale:1},s.prototype.getCurrentIndex=function(){return this._node.index},s.prototype.goToPreviousPage=function(){if(!this._node||this._onEdge===E.TOP)return null;if(this.getPosition()>1&&this._springState===M.NONE)return f.call(this,0,M.PAGE),this._node;var t=this._node.getPrevious();if(t){var i=c.call(this,t);this._scroller.sequenceFrom(t),this._node=t,_.call(this,i),f.call(this,0,M.PAGE)}return t},s.prototype.goToNextPage=function(){if(!this._node||this._onEdge===E.BOTTOM)return null;var t=this._node.getNext();if(t){var i=c.call(this,this._node);this._scroller.sequenceFrom(t),this._node=t,_.call(this,-i),f.call(this,0,M.PAGE)}return t},s.prototype.goToPage=function(t){var i,e=this.getCurrentIndex();if(e>t)for(i=0;e-t>i;i++)this.goToPreviousPage();if(t>e)for(i=0;t-e>i;i++)this.goToNextPage()},s.prototype.outputFrom=function(){return this._scroller.outputFrom.apply(this._scroller,arguments)},s.prototype.getPosition=function(){return this._particle.getPosition1D()},s.prototype.getAbsolutePosition=function(){return this._scroller.getCumulativeSize(this.getCurrentIndex())[this.options.direction]+this.getPosition()},s.prototype.getOffset=s.prototype.getPosition,s.prototype.setPosition=function(t){this._particle.setPosition1D(t)},s.prototype.setOffset=s.prototype.setPosition,s.prototype.getVelocity=function(){return this._touchCount?this._touchVelocity:this._particle.getVelocity1D()},s.prototype.setVelocity=function(t){this._particle.setVelocity1D(t)},s.prototype.setOptions=function(t){void 0!==t.direction&&("x"===t.direction?t.direction=x.Direction.X:"y"===t.direction&&(t.direction=x.Direction.Y)),t.groupScroll!==this.options.groupScroll&&(t.groupScroll?this.subscribe(this._scroller):this.unsubscribe(this._scroller)),this._optionsManager.setOptions(t),this._scroller.setOptions(t),void 0!==t.drag&&this.drag.setOptions({strength:this.options.drag}),void 0!==t.friction&&this.friction.setOptions({strength:this.options.friction}),(void 0!==t.edgePeriod||void 0!==t.edgeDamp)&&this.spring.setOptions({period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp}),(t.rails||void 0!==t.direction||void 0!==t.syncScale||t.preventDefault)&&this.sync.setOptions({rails:this.options.rails,direction:this.options.direction===x.Direction.X?b.DIRECTION_X:b.DIRECTION_Y,scale:this.options.syncScale,preventDefault:this.options.preventDefault})},s.prototype.sequenceFrom=function(t){return t instanceof Array&&(t=new w({array:t,trackSize:!0})),this._node=t,this._scroller.sequenceFrom(t)},s.prototype.getSize=function(){return this._scroller.getSize.apply(this._scroller,arguments)},s.prototype.render=function(){return this.options.paginated&&this._needsPaginationCheck&&l.call(this),this._scroller.render()},e.exports=s}),e("famous/views/SequentialLayout",["require","exports","module","../core/OptionsManager","../core/Entity","../core/Transform","../core/ViewSequence","../utilities/Utility"],function(t,i,e){function s(t){this._items=null,this._size=null,this._outputFunction=s.DEFAULT_OUTPUT_FUNCTION,this.options=h.clone(this.constructor.DEFAULT_OPTIONS||s.DEFAULT_OPTIONS),this.optionsManager=new n(this.options),this.id=o.register(this),this.cachedSize=[void 0,void 0],t&&this.setOptions(t)}var n=t("../core/OptionsManager"),o=t("../core/Entity"),r=t("../core/Transform"),a=t("../core/ViewSequence"),h=t("../utilities/Utility");s.DEFAULT_OPTIONS={direction:h.Direction.Y,itemSpacing:0},s.DEFAULT_OUTPUT_FUNCTION=function(t,i){var e=this.options.direction===h.Direction.X?r.translate(i,0):r.translate(0,i);return{size:this.cachedSize,transform:e,target:t.render()}},s.prototype.getSize=function(){return this._size||this.render(),this._size},s.prototype.sequenceFrom=function(t){return t instanceof Array&&(t=new a(t)),this._items=t,this},s.prototype.setOptions=function(){return this.optionsManager.setOptions.apply(this.optionsManager,arguments),this},s.prototype.setOutputFunction=function(t){return this._outputFunction=t,this},s.prototype.render=function(){return this.id},s.prototype.commit=function(t){var i=0,e=1^this.options.direction,s=this._items,n=null,o=[],r={},a=[],h=0;for(this._size=[0,0],this.cachedSize=t.size;s&&(n=s.get());)n.getSize&&(o=n.getSize()),r=this._outputFunction.call(this,n,i,h++),a.push(r),o&&(o[this.options.direction]&&(i+=o[this.options.direction]),o[e]>this._size[e]&&(this._size[e]=o[e]),0===o[e]&&(this._size[e]=void 0)),s=s.getNext(),this.options.itemSpacing&&s&&(i+=this.options.itemSpacing);return this._size[this.options.direction]=i,{transform:t.transform,origin:t.origin,opacity:t.opacity,size:this.getSize(),target:a}},e.exports=s}),e("famous/views/GridLayout",["require","exports","module","../core/Entity","../core/RenderNode","../core/Transform","../core/ViewSequence","../core/EventHandler","../core/Modifier","../core/OptionsManager","../transitions/Transitionable","../transitions/TransitionableTransform"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),this.optionsManager=new l(this.options),t&&this.setOptions(t),this.id=a.register(this),this._modifiers=[],this._states=[],this._contextSizeCache=[0,0],this._dimensionsCache=[0,0],this._activeCount=0,this._eventOutput=new c,c.setOutputHandler(this,this._eventOutput)}function n(t,i,e){var s=[t[0],t[1]];s[0]-=this.options.gutterSize[0]*(i-1),s[1]-=this.options.gutterSize[1]*(e-1);for(var n,a=Math.round(s[1]/e),h=Math.round(s[0]/i),u=0,c=0,p=0;e>p;p++){n=0;for(var l=0;i>l;l++)void 0===this._modifiers[c]?o.call(this,c,[h,a],[n,u,0],1):r.call(this,c,[h,a],[n,u,0],1),c++,n+=h+this.options.gutterSize[0];u+=a+this.options.gutterSize[1]}for(this._dimensionsCache=[this.options.dimensions[0],this.options.dimensions[1]],this._contextSizeCache=[t[0],t[1]],this._activeCount=e*i,p=this._activeCount;p<this._modifiers.length;p++)r.call(this,p,[Math.round(h),Math.round(a)],[0,0],0);this._eventOutput.emit("reflow")}function o(t,i,e,s){var n={transform:new d(h.translate.apply(null,e)),opacity:new f(s),size:new f(i)},o=new p({transform:n.transform,opacity:n.opacity,size:n.size});this._states[t]=n,this._modifiers[t]=o}function r(t,i,e,s){var n=this._states[t],o=n.size,r=n.opacity,a=n.transform,h=this.options.transition;a.halt(),r.halt(),o.halt(),a.setTranslate(e,h),o.set(i,h),r.set(s,h)}var a=t("../core/Entity"),h=(t("../core/RenderNode"),t("../core/Transform")),u=t("../core/ViewSequence"),c=t("../core/EventHandler"),p=t("../core/Modifier"),l=t("../core/OptionsManager"),f=t("../transitions/Transitionable"),d=t("../transitions/TransitionableTransform");s.DEFAULT_OPTIONS={dimensions:[1,1],transition:!1,gutterSize:[0,0]},s.prototype.render=function(){return this.id},s.prototype.setOptions=function(t){return this.optionsManager.setOptions(t)},s.prototype.sequenceFrom=function(t){t instanceof Array&&(t=new u(t)),this.sequence=t},s.prototype.getSize=function(){return this._contextSizeCache},s.prototype.commit=function(t){var i=t.transform,e=t.opacity,s=t.origin,o=t.size,r=this.options.dimensions[0],a=this.options.dimensions[1];(o[0]!==this._contextSizeCache[0]||o[1]!==this._contextSizeCache[1]||r!==this._dimensionsCache[0]||a!==this._dimensionsCache[1])&&n.call(this,o,r,a);for(var u=this.sequence,c=[],p=0;u&&p<this._modifiers.length;){var l=u.get(),f=this._modifiers[p];p>=this._activeCount&&this._states[p].opacity.isActive()&&(this._modifiers.splice(p,1),this._states.splice(p,1)),l&&c.push(f.modify({origin:s,target:l.render()})),u=u.getNext(),p++}return o&&(i=h.moveThen([-o[0]*s[0],-o[1]*s[1],0],i)),{transform:i,opacity:e,size:o,target:c}},e.exports=s}),e("famous/math/Utilities",["require","exports","module"],function(t,i,e){var s={};s.clamp=function(t,i){return Math.max(Math.min(t,i[1]),i[0])},s.length=function(t){for(var i=0,e=0;e<t.length;e++)i+=t[e]*t[e];return Math.sqrt(i)},e.exports=s}),e("famous/modifiers/Draggable",["require","exports","module","../core/Transform","../transitions/Transitionable","../core/EventHandler","../math/Utilities","../inputs/GenericSync","../inputs/MouseSync","../inputs/TouchSync"],function(t,i,e){function s(t){this.options=Object.create(s.DEFAULT_OPTIONS),t&&this.setOptions(t),this._positionState=new c([0,0]),this._differential=[0,0],this._active=!0,this.sync=new f(["mouse","touch"],{scale:this.options.scale}),this.eventOutput=new p,p.setInputHandler(this,this.sync),p.setOutputHandler(this,this.eventOutput),h.call(this)}function n(t){var i=this.options,e=i.projection,s=i.snapX,n=i.snapY,o=e&g.x?t[0]:0,r=e&g.y?t[1]:0;return s>0&&(o-=o%s),n>0&&(r-=r%n),[o,r]}function o(){this._active&&(this._positionState.isActive()&&this._positionState.halt(),this.eventOutput.emit("start",{position:this.getPosition()}))}function r(t){if(this._active){var i=this.options;this._differential=t.position;var e=n.call(this,this._differential);this._differential[0]-=e[0],this._differential[1]-=e[1];var s=this.getPosition();if(s[0]+=e[0],s[1]+=e[1],i.xRange){var o=[i.xRange[0]+.5*i.snapX,i.xRange[1]-.5*i.snapX];s[0]=y(s[0],o)}if(i.yRange){var r=[i.yRange[0]+.5*i.snapY,i.yRange[1]-.5*i.snapY];s[1]=y(s[1],r)}this.eventOutput.emit("update",{position:s})}}function a(){this._active&&this.eventOutput.emit("end",{position:this.getPosition()})}function h(){this.sync.on("start",o.bind(this)),this.sync.on("update",r.bind(this)),this.sync.on("end",a.bind(this))}var u=t("../core/Transform"),c=t("../transitions/Transitionable"),p=t("../core/EventHandler"),l=t("../math/Utilities"),f=t("../inputs/GenericSync"),d=t("../inputs/MouseSync"),_=t("../inputs/TouchSync");f.register({mouse:d,touch:_});var g={x:1,y:2};s.DIRECTION_X=g.x,s.DIRECTION_Y=g.y;var y=l.clamp;s.DEFAULT_OPTIONS={projection:g.x|g.y,scale:1,xRange:null,yRange:null,snapX:0,snapY:0,transition:{duration:0}},s.prototype.setOptions=function(t){var i=this.options;if(void 0!==t.projection){var e=t.projection;this.options.projection=0,["x","y"].forEach(function(t){-1!==e.indexOf(t)&&(i.projection|=g[t])})}void 0!==t.scale&&(i.scale=t.scale,this.sync.setOptions({scale:t.scale})),void 0!==t.xRange&&(i.xRange=t.xRange),void 0!==t.yRange&&(i.yRange=t.yRange),void 0!==t.snapX&&(i.snapX=t.snapX),void 0!==t.snapY&&(i.snapY=t.snapY)},s.prototype.getPosition=function(){return this._positionState.get()},s.prototype.setRelativePosition=function(t,i,e){var s=this.getPosition(),n=[s[0]+t[0],s[1]+t[1]];this.setPosition(n,i,e)},s.prototype.setPosition=function(t,i,e){this._positionState.isActive()&&this._positionState.halt(),this._positionState.set(t,i,e)},s.prototype.activate=function(){this._active=!0},s.prototype.deactivate=function(){this._active=!1},s.prototype.toggle=function(){this._active=!this._active},s.prototype.modify=function(t){var i=this.getPosition();return{transform:u.translate(i[0],i[1]),target:t}},e.exports=s}),e("famous/utilities/Timer",["require","exports","module","../core/Engine"],function(t,i,e){function s(t){return c.on(p,t),t}function n(t,i){var e=l(),n=function(){var s=l();s-e>=i&&(t.apply(this,arguments),c.removeListener(p,n))};return s(n)}function o(t,i){var e=l(),n=function(){var s=l();s-e>=i&&(t.apply(this,arguments),e=l())};return s(n)}function r(t,i){if(void 0===i)return void 0;var e=function(){i--,0>=i&&(t.apply(this,arguments),h(e))};return s(e)}function a(t,i){i=i||1;var e=i,n=function(){i--,0>=i&&(t.apply(this,arguments),i=e)};return s(n)}function h(t){c.removeListener(p,t)}function u(t,i){var e,s,o,r,a;return function(){s=this,a=arguments,o=l();var u=function(){var h=l-o;i>h?e=n(u,i-h):(e=null,r=t.apply(s,a))};return h(e),e=n(u,i),r}}var c=t("../core/Engine"),p="prerender",l=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};e.exports={setTimeout:n,setInterval:o,debounce:u,after:r,every:a,clear:h}}),e("MathUtility",["require","exports","module"],function(t,i,e){function s(){}s.prototype.lerp=function(t,i,e){if(e>1||0>e)return void 0;var s=1-e;return this.addMatrix(this.subtractMatrix(i,t).vectorMultipy([s,s,s]),t)},s.prototype.addMatrix=function(t,i){return null!==t&&void 0!==t&&null!==i&&void 0!==i?[t[0]+i[0],t[1]+i[1],t[2]+i[2],t[3]+i[3],t[4]+i[4],t[5]+i[5],t[6]+i[6],t[7]+i[7],t[8]+i[8]]:void 0},s.prototype.subtractMatrix=function(t,i){return null!==t&&void 0!==t&&null!==i&&void 0!==i?[t[0]+i[0],t[1]+i[1],t[2]+i[2],t[3]-i[3],t[4]-i[4],t[5]+i[5],t[6]-i[6],t[7]-i[7],t[8]-i[8]]:void 0},e.exports=s}),e("views/Gallery",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/math/Matrix","famous/modifiers/StateModifier","famous/views/Lightbox","famous/views/Scrollview","famous/surfaces/ImageSurface","famous/core/RenderNode","famous/views/SequentialLayout","famous/views/GridLayout","famous/core/Modifier","famous/modifiers/Draggable","famous/utilities/Timer","famous/core/Engine","famous/views/Scroller","../MathUtility"],function(t,i,e){function s(){r.apply(this,arguments),o.call(this),n.call(this)}function n(){var t=this.lightBox,i=[];this.imageNodes=new Array;{var e=new c;this.options.size}e.sequenceFrom(i);var s=[],n=new f;n.sequenceFrom(s),n.mod=new d;var o=24,r=200,u=this.options.size;n.mod.sizeFrom(function(){var t=Math.floor(u[0]/r),i=Math.ceil(1*o/t),e=1*u[0]/t;return n.setOptions({dimensions:[t,i]}),[void 0,i*e]}),n.node=new l,n.node.add(n.mod).add(n);for(var _=0;o>_;_++){var g=new p({size:[void 0,void 0],content:this.options.images[_],properties:{backgroundColor:"hsl("+360*_/12+",75%,50%)"}});g.surfaceIndex=_,this.imageNodes.push(g),s.push(g),g.pipe(e);g.on("click",function(){if(void 0!=this.shown&&this.shown)this.shown=!1,t.hide(this);else{var i=n._modifiers,e=i[this.surfaceIndex].getTransform(),s=a.interpret(e).translate,o=i[this.surfaceIndex].getSize(),r=[s[0]+Math.round(o[0]/2),s[1]+Math.round(o[1]/2)];r[0]=r[0]-window.innerWidth/2,r[1]=r[1]-window.innerHeight/2,console.log("LightBox inTransformCenter: "+r);var h=null,u=null,c=[o[0]/window.innerWidth,o[1]/window.innerHeight],p=a.scale(c[0],c[1],.001);console.log("IN TRANSFORM: "),u=a.interpret(p),console.log("Scale: "+u.scale),h=a.multiply(a.translate(0,r[1],1),p),u=a.interpret(h),console.log("Translation: "+u.translate),t.options.inTransform=h,console.log("Center y: "+r[1]);var l=r[1];0>l&&(l=0),t.options.showTransform=a.translate(0,l,0),t.options.outTransform=a.multiply(a.translate(0,r[1],0),a.scale(.001,.001,.001));var f=a.interpret(t.options.showTransform);console.log("SHOW	 TRANFORM: "),console.log("Translation: "+f.translate),console.log("Scale: "+f.scale),console.log("Rotation: "+f.rotation),this.shown=!0,t.show(this)}})}i.push(n.node);var y=new h({transform:a.translate(this.options.offScreenOffset,.5*window.innerHeight,-5),origin:[.5,.5]});this.add(n.mod),this.add(y).add(e),this.scrollViewTransform=y,this.scrollView=e}function o(){var t=new u({inOpacity:0,outOpacity:0,overlap:!0});this.lightBox=t,this.add(t)}{var r=t("famous/core/View"),a=(t("famous/core/Surface"),t("famous/core/Transform")),h=(t("famous/math/Matrix"),t("famous/modifiers/StateModifier")),u=t("famous/views/Lightbox"),c=t("famous/views/Scrollview"),p=t("famous/surfaces/ImageSurface"),l=t("famous/core/RenderNode"),f=(t("famous/views/SequentialLayout"),t("famous/views/GridLayout")),d=t("famous/core/Modifier");t("famous/modifiers/Draggable"),t("famous/utilities/Timer"),t("famous/core/Engine"),t("famous/views/Scroller"),t("../MathUtility")}s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={images:{0:"content/images/alien_hover_tank_combat.png",1:"content/images/Bridge.png",2:"content/images/Cityscape.png",3:"content/images/heli_back.png",4:"content/images/main_battle.png",5:"content/images/Red_Sea_take_1.png",6:"content/images/Red_Sea_take_2.png"},offScreenOffsetX:2e3,offScreenOffsetY:0,size:[window.innerWidth,window.innerHeight],orderNumber:4},s.prototype.transitionIn=function(){var t=.5*window.innerWidth,i=.5*window.innerHeight;this.scrollViewTransform.setTransform(a.translate(t,i,-5),{duration:1e3,curve:"easeInOut"})},s.prototype.transitionOut=function(t,i){var e=.5*window.innerWidth,s=.5*window.innerHeight;this.options.orderNumber<i?this.scrollViewModifier.setTransform(a.translate(e-this.options.offScreenOffsetX,s,-5),{duration:1e3,curve:"easeInOut"}):this.scrollViewModifier.setTransform(a.translate(this.options.offScreenOffsetX,0,-5),{duration:1e3,curve:"easeInOut"})},e.exports=s}),e("views/AboutMe",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/surfaces/ImageSurface"],function(t,i,e){function s(){var t=.5*window.innerWidth,i=.5*window.innerHeight,e=new c({size:[this.options.width,this.options.height],properties:{backgroundColor:"black",boxShadow:"0 0 5px black"}}),s=new l({transform:p.translate(1e3+t,i,5),origin:[.5,.5]});this.fadeInOutModifier=new l({opacity:0}),this.add(s).add(this.fadeInOutModifier).add(e),this.backgroundSurface=e,this.backgroundTransformModifier=s}function n(){var t=(.5*window.innerWidth,.5*window.innerHeight,new c({size:[!0,!0],content:this.options.title,properties:{color:"white",fontFamily:"AvenirNextCondensed-DemiBold",fontSize:"54px",textTransform:"uppercase",pointerEvents:"none",textAlign:"center"}})),i=new l({transform:p.translate(1e3,0,5),origin:[.5,.5]}),e=new l({opacity:0});this.add(e).add(i).add(t),this.titleTransformModifier=i,this.titleFadeInOutModifier=e}function o(){var t=.5*window.innerWidth,i=.5*window.innerHeight,e=new f({size:[250,250],content:this.options.avatarURL,properties:{pointerEvents:"none"}}),s=new l({transform:p.translate(2*t,i,5),origin:[.5,.5]}),n=new l({opacity:0});this.add(n).add(s).add(e),this.avatarTransformModifier=s,this.avatarOpacityModifier=n}function r(){var t=(.5*window.innerWidth,.5*window.innerHeight,new c({size:[400,400],content:this.options.bio,properties:{color:"white",fontFamily:"Avenir",fontSize:"18px",pointerEvents:"none",textAlign:"center"}})),i=new l({transform:p.translate(this.options.startingDepth,600,5),origin:[.5,.5]}),e=new l({opacity:0});this.add(e).add(i).add(t),this.descriptionTransformModifier=i,this.descriptionFadeInOutModifier=e}function a(){u.apply(this,arguments),s.call(this),n.call(this),r.call(this),o.call(this),this.direction=1}function h(){var t=.5*window.innerWidth,i=.5*window.innerHeight,e=this.options.startingDepth+i;this.backgroundTransformModifier.setTransform(p.translate(e*this.direction+t,i,5),{duration:1e3,curve:"easeInOut"}),this.descriptionTransformModifier.setTransform(p.translate(e*this.direction+t,70+i,5),{duration:1e3,curve:"easeInOut"}),this.titleTransformModifier.setTransform(p.translate(e*this.direction+t,-200+i,6),{duration:1e3,curve:"easeInOut"}),this.avatarTransformModifier.setTransform(p.translate(e*this.direction+t,-50+i,5),{duration:1e3,curve:"easeInOut"}),this.titleFadeInOutModifier.setOpacity(0,{duration:1e3,curve:"easeInOut"}),this.fadeInOutModifier.setOpacity(0,{duration:1e3,curve:"easeInOut"}),this.descriptionFadeInOutModifier.setOpacity(0,{duration:1e3,curve:"easeInOut"}),this.avatarOpacityModifier.setOpacity(0,{duration:1e3,curve:"easeInOut"})}var u=t("famous/core/View"),c=t("famous/core/Surface"),p=t("famous/core/Transform"),l=t("famous/modifiers/StateModifier"),f=t("famous/surfaces/ImageSurface");a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.prototype.transitionIn=function(t){void 0!=t&&(this.options.name=t.name,this.options.avatarPath=t.imagePath,this.options.bio=t.bio);var i=.5*window.innerWidth,e=.5*window.innerHeight;this.backgroundTransformModifier.setTransform(p.translate(i,e,5),{duration:1e3,curve:"easeInOut"}),this.descriptionTransformModifier.setTransform(p.translate(i+150,e+70,5),{duration:1e3,curve:"easeInOut"}),this.titleTransformModifier.setTransform(p.translate(i+125,e-200,6),{duration:1e3,curve:"easeInOut"}),this.avatarTransformModifier.setTransform(p.translate(this.options.avatarOffsetX+i,e+-50,5),{duration:1e3,curve:"easeInOut"}),this.titleFadeInOutModifier.setOpacity(.8,{duration:1e3,curve:"easeInOut"}),this.fadeInOutModifier.setOpacity(.8,{duration:1e3,curve:"easeInOut"}),this.descriptionFadeInOutModifier.setOpacity(.8,{duration:1e3,curve:"easeInOut"}),this.avatarOpacityModifier.setOpacity(.8,{duration:1e3,curve:"easeInOut"})},a.prototype.transitionOut=function(t,i){switch(this.direction=this.options.orderNumber<i?1:-1,t){case"About Me":break;default:h.call(this)}},a.DEFAULT_OPTIONS={width:750,height:600,title:"Brent Arata",avatarOffsetX:-200,avatarOffsetY:-100,avatarURL:"content/images/brent_veeva.png",bio:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",startingDepth:750,orderNumber:1},e.exports=a}),e("views/AppView",["require","exports","module","famous/core/View","famous/core/Surface","famous/core/Transform","famous/modifiers/StateModifier","famous/core/EventHandler","views/MenuView","views/VideoView","famous/inputs/GenericSync","famous/inputs/MouseSync","famous/inputs/TouchSync","../controllers/PageController","../views/Gallery","../views/AboutMe"],function(t,i,e){function s(){a.apply(this,arguments),this.pageController=new d,this.pages=Object(),this.pages.Home=new Object,this.currentTabOpened="",n.call(this),o.call(this)}function n(){this.navBar=new c({width:this.options.size[0],topOffset:250});var t=new u({transform:h.front});this.add(t).add(this.navBar)}function o(){this.pageController.eventHandler.subscribe(this.navBar._eventInput),this.subscribe(this.pageController.eventHandler),this._eventInput.on("TabReflow",r.bind(this))}function r(t){var i=t.data,e=t.tabName,s=this.oldTabName;if(this.oldTabName=e,void 0==this.pages[e]){switch(e){case"Gallery":this.pages[e]=new _({size:this.options.size});break;case"About Me":this.pages[e]=new g(i,this.pageController)
}var n=new u({transform:h.translate(0,0,7)});this.add(n).add(this.pages[e])}if(void 0!=s&&s!=e&&void 0!=this.pages[s].transitionOut){var o=void 0==this.pages[e].orderNumber?0:this.pages[e].orderNumber;this.pages[s].transitionOut(e,o)}void 0!=this.pages[e].transitionIn&&this.pages[e].transitionIn(i)}var a=t("famous/core/View"),h=(t("famous/core/Surface"),t("famous/core/Transform")),u=t("famous/modifiers/StateModifier"),c=(t("famous/core/EventHandler"),t("views/MenuView")),p=(t("views/VideoView"),t("famous/inputs/GenericSync")),l=t("famous/inputs/MouseSync"),f=t("famous/inputs/TouchSync"),d=t("../controllers/PageController"),_=t("../views/Gallery"),g=t("../views/AboutMe");p.register({mouse:l,touch:f}),s.prototype=Object.create(a.prototype),s.prototype.constructor=s,s.DEFAULT_OPTIONS={size:[750,750]},e.exports=s}),e("main",["require","exports","module","famous/core/Engine","views/AppView"],function(t){var i=t("famous/core/Engine"),e=t("views/AppView"),s=i.createContext(),n=new e({context:s});s.add(n),s.setPerspective(300)}),i(["main"])}();